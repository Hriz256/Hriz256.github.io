!function(){"use strict";var f,a=require("./svgWriterUtils.js"),v=require("./utils.js"),d=require("./matrix.js"),t=require("./svgWriterText.js"),r=require("./attrdefs-database.js"),h=require("./svgWriterContext.js"),p=a.write,c=a.writeln,u=a.indent,m=a.undent,w=a.getTransform,F=(a.getMatrix,a.encodedText),i=a.hasFx,n=a.hasGlobalFx,s=a.toDocumentUnits,o=t.mergeTSpans2Tag,l=t.makeTSpan,g=0;function q(t,e,r,i){this.name=t||"","#text"==t||"#comment"==t?this.text=e:(this.attrs={},this.setAttributes(e),this.children=[]),this.id=g++,f&&(f.all[this.id]=this),r&&(this.ctx=r,(i=i||r.currentOMNode).visualBounds&&(this.bbox={x:i.visualBounds.x,y:i.visualBounds.y,width:i.visualBounds.width,height:i.visualBounds.height}),this.setStyleBlock(r,i)),f.ctx.tick&&this.name&&f.ctx.tagCounter++}function y(t,e,r){function i(t){return+(+t).toFixed(r)}var n=parseFloat(t),s=(t+"").match(/[a-z%\-]+$/i);return t==+t?t=i(t):0===n?t=0:isFinite(n)&&(t=i(n),!s||"px"==s[0].toLowerCase()&&e||(t+=s[0])),t}function x(t,e){return r[t]&&r[t][e]?r[t][e]:r["*"][e]||r.default}q.resetRoot=function(t){var e=t.svgOM.viewSource||{};f={ctx:t,all:{},ids:{},x:e.x,y:e.y,width:e.width,height:e.height,images:{}}},q.getById=function(t){return f&&f.all[t]||null},q.getByDOMId=function(t){return"#"==(t+="").charAt(0)&&(t=t.substring(1)),f&&f.ids[t]||null},q.prototype.setAttributes=function(t){if(t)for(var e in t)this.setAttribute(e,t[e])},q.prototype.appendChild=function(){for(var t=[].slice.call(arguments),e=0,r=t.length;e<r;e++){var i=t[e];"string"==typeof i&&(i=new q("#text",i)),i.name?this.children.push(i):this.children=this.children.concat(i.children)}},q.prototype.collapseChild=function(t){for(var e=0,r=this.children.length;e<r;e++)if(this.children[e]==t)return void Array.prototype.splice.apply(this.children,[e,1].concat(t.children))},q.prototype.getAttribute=function(t){return this.styleBlock&&this.styleBlock.getPropertyValue(t)||this.attrs[t]||""},q.getDefault=function(t,e){return x(t,e)[0]},q.getValue=function(t,e,r,i){var n=x(t,e),s=v.precision(i&&i.precision,n[2]);switch(n[1]){case"number":r=y(r,"*"!=t,s);break;case"number-sequence":Array.isArray(r)||(r=(r+"").trim().split(/[,\s]+/));for(var a=0,o=r.length;a<o;a++)r[a]=y(r[a],"*"!=t,s);r=r.join(" ")}return r},q.prototype.setAttribute=function(t,e){if(""===e||null==e)return"id"==t&&f&&delete f.ids[this.attrs.id],void delete this.attrs[t];"id"==t&&f&&(f.ids[e]=this),"#text"==t?this.text=e:this.attrs[t]=e};var k={linearGradient:1,radialGradient:1,filter:1,pattern:1},b={id:1,class:1};q.prototype.writeAttribute=function(t,e,r){"string"==typeof t&&(r=e,e=t,t=null),r=null==(r=null==r?this.attrs[e]:r)?r:q.getValue(this.name,e,r,t);var i,n,s=this,a=q.getDefault(s.name,e),o=null!=r&&r+""!=a+"";if("!"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),s.name in k&&s.attrs["xlink:href"])for(i=s;i.attrs["xlink:href"];){if(!(i=q.getByDOMId(i.attrs["xlink:href"]))||i.name!=s.name){o=!0;break}if(e in i.attrs){o=i.attrs[e]!=r;break}}if(o){if("data-name"==e&&(r=F(r)),"image"==this.name&&"xlink:href"==e&&"data:"!=r.substring(0,5)&&(r=encodeURI(r).replace(/[#&?]/g,function(t){return"%"+t.charCodeAt().toString(16)})),t&&t.prefix&&e in b&&(r=t.prefix+r),n=" "+e+'="'+r+'"',!t)return n;p(t,n)}return""};var T={id:-21,"data-name":-20,class:-19,xmlns:-18,"xmlns:xlink":-17,preserveAspectRatio:-16,x:-15,y:-14,x1:-13,y1:-12,x2:-11,y2:-10,width:-9,height:-8,cx:-7,cy:-6,fx:-5,fy:-4,r:-3,rx:-2,ry:-1,viewBox:10,"xlink:href":99,style:100};function B(t,e){return(T[t]||0)-(T[e]||0)}function A(t,e,r,i,n){var s,a,o,l,h,p={len:1/0};function c(t,e,r){var i=t-n[e]-n[r];return p.len>i&&(p.len=i,p.fraq=t/(n[e]+n[r])),i}for(;!h;)s=c(r,0,1),l=c(i,1,2),a=c(r,2,3),o=c(i,0,3),p.len+.01<0?(n=n.map(function(t){return t*p.fraq}),p={len:0}):h=!0;return"M"+[t+n[0],e]+"h"+s+"a"+[n[1],n[1],0,0,1,n[1],n[1]]+"v"+l+"a"+[n[2],n[2],0,0,1,-n[2],n[2]]+"h"+-a+"a"+[n[3],n[3],0,0,1,-n[3],-n[3]]+"v"+-o+"a"+[n[0],n[0],0,0,1,n[0],-n[0]]+"z"}q.prototype.write=q.prototype.toString=function(t){var e,r=this,i=r.children&&r.children.length;if(t?(t.tick&&t.tick("write"),r.setClass(t)):(t=new h({}),e=!0),r.name){if("#text"==r.name)return p(t,F(r.text)),t.sOut;if("#comment"==r.name)return c(t,t.currentIndent+"\x3c!-- "+F(r.text)+" --\x3e"),t.sOut;var n=t.currentIndent;"tspan"!=r.name&&"textPath"!=r.name||(n=""),p(t,n+"<"+r.name);var s=Object.keys(r.attrs);s.sort(B);for(var a=0;a<s.length;a++)(!e||"id"!=s[a]&&"data-name"!=s[a])&&r.writeAttribute(t,s[a]);if(e){var o=r.styleBlock;if(o)for(var l in o.rules)r.writeAttribute(t,l,o.rules[l])}i||"script"==r.name||p(t,"/"),"text"==r.name||"tspan"==r.name||"textPath"==r.name||"desc"==r.name||"title"==r.name?p(t,">"):(c(t,">"),i&&u(t))}for(a=0;a<i;a++)e?p(t,r.children[a].toString()):r.children[a].write(t);return!i&&"script"!=r.name||!r.name||("text"==r.name||"desc"==r.name||"title"==r.name?c(t,"</"+r.name+">"):"tspan"==r.name||"textPath"==r.name?p(t,"</"+r.name+">"):(m(t),c(t,t.currentIndent+"</"+r.name+">"))),t.sOut},q.prototype.setStyleBlock=function(t,e){e=e||t.currentOMNode;var r=t.omStylesheet.getStyleBlock(e);r&&((this.styleBlock=r).tags=r.tags?r.tags.concat(this.id):[this.id])},q.prototype.setClass=function(t){var e,r=this.styleBlock,i="";if(r&&r.hasRules())if(t.styling)if(1!=t.styling)if(2!=t.styling);else{for(e in r.rules)"isolation"!=e&&"mix-blend-mode"!=e&&"text-orientation"!=e&&"white-space"!=e?this.setAttribute(e,r.rules[e]):i+=e+":"+t.space+r.rules[e]+";";i.length&&this.setAttribute("style",i.substring(0,i.length-1))}else{for(e in r.rules)r.defs[e]||(i+=e+":"+t.space+r.rules[e]+";");this.setAttribute("style",i.substring(0,i.length-1))}else{for(var n=0,s=r.class.length;n<s;n++)i+=" "+r.class[n].replace(/\s+/g,"-");this.setAttribute("class",a.encodedText(i.substr(1)))}},q.prototype.useTrick=function(t){var e;return this.trick=t.config&&t.config.fillFilter&&i(t)&&((e=t.currentOMNode).style&&e.style.stroke&&"none"!=e.style.stroke.type),this.globalFilter=n(t),this};var C={"opacity-invert":function(t){t.appendChild(new q("feColorMatrix",{values:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,-8,1],result:"only0"})),t.appendChild(new q("feComposite",{in:"SourceGraphic",in2:"only0",operator:"over"})),t.appendChild(new q("feColorMatrix",{values:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,-1,1]}))},"opacity-noclip":function(t){t.appendChild(new q("feFlood",{"flood-color":"#fff",result:"bg"})),t.appendChild(new q("feBlend",{in:"SourceAlpha",in2:"bg"}))},"opacity-invert-noclip":function(t){t.appendChild(new q("feFlood",{"flood-color":"#fff",result:"bg"})),t.appendChild(new q("feComposite",{in:"SourceAlpha",in2:"bg",operator:"atop"}))},"luminosity-invert":function(t){t.appendChild(new q("feColorMatrix",{values:[-1,0,0,0,1,0,-1,0,0,1,0,0,-1,0,1,0,0,0,1,0]}))},"luminosity-noclip":function(t){t.appendChild(new q("feFlood",{"flood-color":"#fff",result:"bg"})),t.appendChild(new q("feBlend",{in:"SourceGraphic",in2:"bg"}))},"luminosity-invert-noclip":function(t){t.appendChild(new q("feColorMatrix",{values:[-1,0,0,0,1,0,-1,0,0,1,0,0,-1,0,1,0,0,0,1,0],result:"invert"})),t.appendChild(new q("feFlood",{"flood-color":"#fff",result:"bg"})),t.appendChild(new q("feBlend",{in:"invert",in2:"bg"}))}};var D={circle:function(t,e){return new q("circle",{cx:e.shape.cx,cy:e.shape.cy,r:e.shape.r,transform:w(e.transform,e.transformTX,e.transformTY,t.precision)},t).useTrick(t)},compound:function(t,e){return new q("path",{d:t.config.turnOffPathOptimisation?e.shape.path:v.optimisePath(e.shape.path,t.precision,!1!==e.shape.preparedPath),transform:w(e.transform,e.transformTX,e.transformTY,t.precision,!0)},t).useTrick(t)},ellipse:function(t,e){return new q("ellipse",{cx:e.shape.cx,cy:e.shape.cy,rx:e.shape.rx,ry:e.shape.ry,transform:w(e.transform,e.transformTX,e.transformTY,t.precision)},t).useTrick(t)},line:function(t,e){return new q("line",{x1:e.shape.x1,y1:e.shape.y1,x2:e.shape.x2,y2:e.shape.y2,transform:w(e.transform,e.transformTX,e.transformTY,t.precision)},t).useTrick(t)},path:function(t,e){return new q("path",{d:t.config.turnOffPathOptimisation?e.shape.path:v.optimisePath(e.shape.path,t.precision,!1!==e.shape.preparedPath),transform:w(e.transform,e.transformTX,e.transformTY,t.precision,!0)},t).useTrick(t)},polygon:function(t,e){return new q("polygon",{points:v.pointsToString(e.shape.points),transform:w(e.transform,e.transformTX,e.transformTY,t.precision)},t).useTrick(t)},polyline:function(t,e){return new q("polyline",{points:v.pointsToString(e.shape.points),transform:w(e.transform,e.transformTX,e.transformTY,t.precision)},t).useTrick(t)},mask:function(t,e){var r={};isFinite(e.x)&&(r.x=e.x+(e.translateTX||0)),isFinite(e.y)&&(r.y=e.y+(e.translateTY||0)),r.width=e.width,r.height=e.height,r.maskUnits=e.units||"userSpaceOnUse",r.width||r.height||e.units||delete r.maskUnits,r.maskContentUnits=e.contentUnits;var i=new q("mask",r,t);return"opacity"==e.kind&&(i.setAttribute("style","mask-type:alpha"),i.opacity=!0),i.noclip="clip"in e&&!e.clip,i.filter=function(t,e,r,i,n){if(!i&&!n)return null;var s=(r?"opacity":"luminosity")+(i?"-invert":"")+(n?"-noclip":"");if(!n&&f[s])return f[s].attrs.id;var a,o=t.ID.getUnique("filter",s),l={id:o,filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"};return n&&(l.x=e.x,l.y=e.y,l.width=e.width,l.height=e.height),f[s]=a=new q("filter",l),C[s](a),t.omStylesheet.def(a),o}(t,e,"opacity"==e.kind,e.invert,i.noclip),e.invert&&i.setStyleBlock(t,{}),i},clipPath:function(t,e){return new q("clipPath",{clipPathUnits:e.clipPathUnits,transform:w(e.transform,e.transformTX,e.transformTY,t.precision,!0)},t)},pattern:function(t,e){var r={};return r.x=e.x+(e.transform?0:e.transformTX||0),r.y=e.y+(e.transform?0:e.transformTY||0),r.width=e.width,r.height=e.height,e.viewBox&&(r.viewBox=[e.viewBox.x,e.viewBox.y,e.viewBox.width,e.viewBox.height]),r.patternTransform=w(e.transform,e.transformTX,e.transformTY,t.precision),r.patternUnits=e.units||"userSpaceOnUse",r.width||r.height||e.units||delete r.patternUnits,r.patternContentUnits=e.contentUnits,new q("pattern",r,t)},rect:function(t,e){var r=e.shape.r||0,i=e.shape.width,n=e.shape.height;if(r){if(r=r.map(function(t){return Math.abs(parseFloat(t))}),!(t.eq(r[0],r[1])&&t.eq(r[1],r[2])&&t.eq(r[2],r[3])))return new q("path",{d:t.config.turnOffPathOptimisation?A(e.shape.x,e.shape.y,e.shape.width,e.shape.height,r):v.optimisePath(A(e.shape.x,e.shape.y,e.shape.width,e.shape.height,r),t.precision),transform:w(e.transform,e.transformTX,e.transformTY,t.precision)},t).useTrick(t);r=r[0],r=Math.min(r,i/2,n/2)}return new q("rect",{x:e.shape.x,y:e.shape.y,width:i,height:n,rx:r,transform:w(e.transform,e.transformTX,e.transformTY,t.precision)},t).useTrick(t)},text:function(t,e){if(!e.text)return e.position?D.textOld(t,e):void 0;function r(t,e,r){var i=t.styleBlock;r&&t.setAttribute("xml:space","preserve"),e?"sideways-right"!=i.getPropertyValue("text-orientation")?(i.addRule("text-orientation","upright"),i.addRule("glyph-orientation-vertical","0deg")):i.addRule("glyph-orientation-vertical","90deg"):i.removeRule("text-orientation")}var i=e.text,n=i.frame||{},s=new q("text",{x:n.x,y:n.y,transform:w(e.transform,e.transformTX,e.transformTY,t.precision)},t),a=!!i.paragraphs,o=a&&i.paragraphs.length,l=!1;i.orientation&&"vertical"==i.orientation.substring(0,8)&&(s.styleBlock.addRule("writing-mode","tb"),l=!0),a?(r(s,l),v.adaptGlyphRangeToSurrogates(i)):(s.appendChild(new q("#text",i.rawText)),r(s,l,0<=i.rawText.search(/(^[ \t\v].|[ \t\v][ \t\v])/)));for(var h=0;h<o;h++){var p=i.paragraphs[h],c=new q("tspan",{},t,p);r(c,l);for(var u=0;u<p.lines.length;u++)for(var f=p.lines[u],d=0;d<f.length;d++){var m=f[d],g=i.rawText.substring(m.from,m.to),y=new q("tspan",{x:m.x,y:m.y,rotate:m.rotate},t,m),x=!1;(0<=g.search(/(^[ \t\v].|[ \t\v][ \t\v])/)||u==p.lines.length-1&&d==f.length-1&&0<=g.search(/.[ \t\v]$/)&&m.style&&m.style.textAttributes&&m.style.textAttributes.decoration&&m.style.textAttributes.decoration.length)&&(x=!0),y.appendChild(new q("#text",g)),r(y,l,x),c.appendChild(y)}c.children.length&&s.appendChild(c)}return s.useTrick(t)},textOld:function(t,e){return new q("text",{x:e.position.x+(e.position.unitX||""),y:e.position.y+(e.position.unitY||""),transform:w(e.transform,e.transformTX,e.transformTY,t.precision)},t).useTrick(t)},textPath:function(t,e){var r,i=new q("textPath",{"xlink:href":""},t);if(e.pathData){var n=new q("path",{id:t.ID.getUnique("text-path"),d:t.config.turnOffPathOptimisation?e.pathData:v.optimisePath(e.pathData,t.precision)});t.omStylesheet.def(n,function(t){i.setAttribute("xlink:href","#"+t.getAttribute("id"))})}else console.warn("text-path with no def found");return r={middle:50,end:100}[i.getAttribute("text-anchor")]||0,i.setAttribute("startOffset",r+"%"),i.useTrick(t)},image:function(t,e){if(e.image){var r,i=f.images[e.image.href],n=e.image.x||0,s=e.image.y||0,a=parseFloat(e.image.width),o=parseFloat(e.image.height);if(t.xlinkRequired=!0,i){if(i.inDefs)l=i.getAttribute("id");else{var l=t.ID.getUnique("image"),h=new q("image",{width:i.getAttribute("width"),height:i.getAttribute("height"),"xlink:href":i.getAttribute("xlink:href"),id:l});i.name="use",i.setAttributes({width:"",height:"","xlink:href":"#"+l}),(f.images[e.image.href]=h).inDefs=!0,t.omStylesheet.def(h),i=h}var p=a/i.getAttribute("width"),c=o/i.getAttribute("height"),u=d.createMatrix(e.transform);u.scale(p,c,1),r=new q("use",{x:n/p,y:s/c,transform:w(u,0,0,t.precision),"xlink:href":"#"+l},t)}else r=new q("image",{x:n,y:s,width:a,height:o,transform:w(e.transform,e.transformTX,e.transformTY,t.precision),"xlink:href":e.image.href},t),f.images[e.image.href]=r;return r.useTrick(t)}},group:function(t,e){return new q("g",{transform:w(e.transform,e.transformTX,e.transformTY,t.precision)},t).useTrick(t)},artboard:function(i,t){var n=i.svgOM.artboards[t.artboard.ref],e=t.name||n.name,r=i.ID.getUnique("artboard",e),s=i.ID.getUnique("clip-path","clip-"+r),a=new q("g",{id:r},i);!i.minify&&e&&e!=r&&a.setAttribute("data-name",e);var o=new q("clipPath",{id:s});return o.appendChild(new q("rect",{x:n.x+(i._shiftContentX||0)+(i._shiftCropRectX||0),y:n.y+(i._shiftContentY||0)+(i._shiftCropRectY||0),width:n.width,height:n.height})),i.omStylesheet.def(o,function(t){if(a.styleBlock.rules.fill&&"none"!=a.styleBlock.rules.fill){var e=i.omStylesheet.getStyleBlock({}),r=new q("rect",{x:n.x+(i._shiftContentX||0)+(i._shiftCropRectX||0),y:n.y+(i._shiftContentY||0)+(i._shiftCropRectY||0),width:n.width,height:n.height});(r.styleBlock=e).addRule("fill",a.styleBlock.rules.fill),e.tags=[r.id],a.children.unshift(r)}a.styleBlock.removeRule("fill"),a.styleBlock.addRule("clip-path","url(#"+i.prefix+t.getAttribute("id")+")")}),a.isArtboard=!0,a},tspan:function(t,e,r){var i=l(q,t,r,e);return e.children&&e.children.length&&o(i,t,r,e.children),e.text&&i.appendChild(new q("#text",e.text)),e.style&&"super"===e.style["_baseline-script"]&&(t._nextTspanAdjustSuper=!0),i.useTrick(t)},reference:function(t,e){var r=t.svgOM.resources.symbols[e.reference.ref],i=new q("use",{},t);if(t.xlinkRequired=!0,r){var n=r.name,s=t.ID.getUnique("symbol",n),a=q.make(t,r);a.setAttribute("id",s),!t.minify&&n&&s!=n&&a.setAttribute("data-name",n),t.omStylesheet.def(a,function(t){i.setAttribute("xlink:href","#"+t.getAttribute("id"))})}var o={"xlink:href":"",transform:w(e.transform,e.transformTX,e.transformTY,t.precision)};return o.x=e.reference.x||0,o.y=e.reference.y||0,isFinite(e.reference.width)&&(o.width=e.reference.width),isFinite(e.reference.height)&&(o.height=e.reference.height),i.setAttributes(o),i},symbol:function(t,e){var r={};return e.viewBox&&(r.viewBox=[e.viewBox.x||0,e.viewBox.y||0,e.viewBox.width,e.viewBox.height]),new q("symbol",r,t)},svg:function(t){var e={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",preserveAspectRatio:t.config.preserveAspectRatio||"none"};return t.config.isResponsive||(isFinite(t._width)&&(e.width=s(t,t._width)),isFinite(t._height)&&(e.height=s(t,t._height))),t._viewBox.reduce(function(t,e){return t&&isFinite(e)},!0)&&(e.viewBox=t._viewBox),new q("svg",e)}};q.make=function(t,e,r){var i,n,s,a,o,l,h;if(e=e||t.currentOMNode,t.tick&&t.tick("tag"),e==t.svgOM)t.tick&&t.tick("pre"),(i=D.svg(t,e)).iamroot=!0,t.svgOM.name&&t.svgOM.name.length&&((n=new q("title")).appendChild(new q("#text",F(t.svgOM.name))),i.appendChild(n)),t.svgOM.desc&&t.svgOM.desc.length&&((s=new q("desc")).appendChild(new q("#text",F(t.svgOM.desc))),i.appendChild(s)),t._needsClipping&&(a=i,i=new q("g"),a.appendChild(i),i.setAttribute("clip-path","url(#"+t.prefix+t._contentClipPathID+")"));else{if(e.hasOwnProperty("visible")&&!e.visible)return;if("shape"==e.type){if(o=D[e.shape.type],!t.insideClipPath&&e.style&&e.style.stroke&&"none"!=e.style.stroke.type&&e.style.stroke.align in{inside:1,outside:1}){var p,c;if((i=D.group(t,e,r)).custom=!0,i.transform=e.transform,delete e.transform,e.meta&&e.meta.ux&&e.meta.ux.strokePath){var u=i.styleBlock.getPropertyValue("stroke");i.styleBlock.removeRule("stroke"),i.styleBlock.removeRule("stroke-width"),(p=e.meta.ux.offsetPath?new q("path",{d:e.meta.ux.offsetPath}):o(t,e,r)).setStyleBlock(t,{}),p.styleBlock.addRule("stroke!","none"),p.trick=!1,p.globalFilter=!1,(c=new q("path",{d:e.meta.ux.strokePath})).setStyleBlock(t,{}),c.styleBlock.addRule("stroke!","none"),c.styleBlock.addRule("fill",u),c.trick=!1,c.globalFilter=!1}else if(e.shape.type in{rect:1,ellipse:1,circle:1}){var f,d=e.style.stroke.width,m=d/2,g="inside"==e.style.stroke.align;(p=o(t,e,r)).setStyleBlock(t,{}),p.styleBlock.addRule("stroke!","none"),p.trick=!1,p.globalFilter=!1;var y=g?-1:1;if("rect"==e.shape.type){var x,v,w,k,b=x=e.shape.width,T=v=e.shape.height,B=w=e.shape.x,A=k=e.shape.y;B-=m*y,A-=m*y,(b+=d*y)<0&&(B-=b=-b,f=!0),(T+=d*y)<0&&(A-=T=-T,f=!0),e.shape.x=B,e.shape.y=A,e.shape.width=b,e.shape.height=T,e.shape.r&&(e.shape.r[0]+=m*y,e.shape.r[1]+=m*y,e.shape.r[2]+=m*y,e.shape.r[3]+=m*y)}else"circle"==e.shape.type?e.shape.r=Math.abs(e.shape.r+m*y):(e.shape.rx=Math.abs(e.shape.rx+m*y),e.shape.ry=Math.abs(e.shape.ry+m*y));(c=f&&"rect"==e.shape.type?new q("path",{d:"M"+[w,A]+"h"+x+"M"+[B+b,k]+"v"+v+"M"+[w+x,A+T]+"h"+-x+"M"+[B,k+v]+"v"+-v}):o(t,e,r)).setStyleBlock(t,{}),c.styleBlock.addRule("fill","none"),c.trick=!1,c.globalFilter=!1}if(p&&c){if(f){var C=t.ID.getUnique("fill"),O=t.ID.getUnique("clip"),R=new q("clipPath",{id:O});p.setAttribute("id",C),c.styleBlock.addRule("clip-path","url(#"+O+")"),R.children.push(new q("use",{"xlink:href":"#"+C})),t.omStylesheet.def(R)}e.styleBlock.tags=[i.id],i.children=[p,c]}else i=null}o?i||(i=o(t,e,r)):console.warn("NOT HANDLED DEFAULT "+e.shape.type)}else(o=D[e.type])?i=o(t,e,r):console.error("ERROR: Unknown omIn.type = "+e.type);"minimal"!=t.idType&&"string"==typeof e.name&&e.name.length&&i&&!i.getAttribute("id")&&(l=t.ID.getUnique("",e.name),i.setAttribute("id",l),e.name!=l&&i.setAttribute("data-name",e.name))}if(h=(e.artboard||e.group||e).children,i&&"tspan"!=i.name&&h&&h.length)for(var S,M=0,P=h.length;M<P;M++)t.currentOMNode=h[M],(S=q.make(t,h[M],M))&&i.appendChild(S);if(i&&e.transform&&(i.transform=e.transform),i&&"text"==i.name){var U=i.styleBlock;"normal"==U.rules["font-style"]&&U.removeRule("font-style"),400==U.rules["font-weight"]&&U.removeRule("font-weight")}return a||i},module.exports=q}();