!function(){"use strict";var o=require("./svgWriterTag.js");module.exports={externalizeStyles:function(e){var t,i,r,n,s=e.currentOMNode,h=s.shifted?(e._shiftContentX||0)+(e._shiftCropRectX||0):0,l=s.shifted?(e._shiftContentY||0)+(e._shiftCropRectY||0):0;s.style&&s.style.clipPath&&s.style.clipPath.ref&&(t=s.style.clipPath.ref,e.svgOM.resources&&e.svgOM.resources.clipPaths[t]&&(e.currentOMNode=e.svgOM.resources.clipPaths[t],e.currentOMNode.transformTX=h,e.currentOMNode.transformTY=l,n=e.currentOMNode.name,i=e.ID.getUnique("clip-path",n),e.insideClipPath=e.insideClipPath||0,e.insideClipPath++,r=o.make(e),e.insideClipPath--,e.currentOMNode=s,r.setAttribute("id",i),!e.minify&&n&&i!=n&&r.setAttribute("data-name",n),e.omStylesheet.def(r,function(t){e.omStylesheet.getStyleBlock(s).addRule("clip-path","url(#"+e.prefix+t.getAttribute("id")+")")})))},writeClipPath:function(t,e,i,r){var n,s=t.ID.getUnique("clip-path"),h=[];if(e&&e.length){n=new o("clipPath",{id:s});for(var l=0;l<e.length;++l)h.push(new o("rect",{x:e[l].left+(t._shiftContentX||0)+i,y:e[l].top+(t._shiftContentY||0)+r,width:e[l].right-e[l].left,height:e[l].bottom-e[l].top}));n.children=h,t.omStylesheet.def(n),t._contentClipPathID=s}}}}();