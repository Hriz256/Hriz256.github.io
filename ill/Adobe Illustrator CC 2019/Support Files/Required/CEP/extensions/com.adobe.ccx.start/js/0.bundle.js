
/*************************************************************************
* ADOBE CONFIDENTIAL
* ___________________
*
* Copyright 2017 Adobe. All Rights Reserved.
*
* NOTICE: All information contained herein is, and remains
* the property of Adobe and its suppliers, if any. The intellectual
* and technical concepts contained herein are proprietary to Adobe
* and its suppliers and are protected by all applicable intellectual
* property laws, including trade secret and copyright laws.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe.
**************************************************************************/

(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{354:function(module,__webpack_exports__,__webpack_require__){"use strict";function json_commonDataReceiver(key,val){switch(key){case"userTrackingEnabled":"string"==typeof val&&(val="true"===val||"1"===val);break;case"fnftEnabled":"string"==typeof val&&(val="true"===val||"1"===val);break;case"shortcut":val=val.replace(/Cmd\+/,"\u2318");break;case"language":break;default:}return val}function SophiaDataAdapter_generateDefaultData(){return{_isGeneratedDefaultData:!0,cards:[],cardControl:[],expirationDTS:"2018-01-01T12:00:00.000+00:00",analyticsParams:{responseGUID:"ffffffff-ffff-ffff-ffff-ffffffffffff",requestId:"ffffffff-ffff-ffff-ffff-ffffffffffff"}}}function SophiaDataAdapter_readSophiaJSONFile(path){let obj=null;if(!path)return obj;const result=window.cep.fs.readFile(path);if(0===result.err)try{obj=JSON.parse(result.data)}catch(error){log.a.toConsole(SophiaDataAdapter_LOG_PREFIX+"Failed to read JSON file with path ["+path+"], error="+JSON.stringify(error)),obj=null}else 3===result.err?log.a.toConsole(SophiaDataAdapter_LOG_PREFIX+"File does not exist ["+path+"]"):log.a.toConsole(SophiaDataAdapter_LOG_PREFIX+"Failed to read JSON file with path ["+path+"], error code="+result.err);return obj}function CCFilesAdapter_createThorXMLMessagPayload(params){let xmlMessage="";return Object.keys(params).forEach(param=>{xmlMessage+="<"+param+">"+params[param]+"</"+param+">"}),CCFilesAdapter_XML_START+xmlMessage+CCFilesAdapter_XML_END}function CCFilesAdapter_search(){return Federer.a.getCCFiles().then(resp=>{const files=resp.result_sets[0],result=[];return files.items.forEach(file=>{if(file._links.rendition){const fileResult={action:"ccfiles",identifier:file.asset_id.replace(/^.*:/,""),name:file.asset_name,lastOpened:file.modify_date,size:file.size,renditionUrl:file._links.rendition[0].href.replace("{size}",constants.a.THUMBNAIL_SIZE).replace("{format}",constants.a.THUMBNAIL_FORMAT)};isNaN(file.modify_date)&&(fileResult.lastOpened=new Date(file.modify_date).getTime()),result.push(fileResult)}}),result})}function CCFilesAdapter_getPaths(pathRequestUrlPrefix,rootFolder,files){return new Promise((resolve,reject)=>{function handleCCFilesPath(message){try{const responseData=Vulcan.a.getPayload(message),xml=new DOMParser().parseFromString(responseData,"text/xml"),requestid=xml.getElementsByTagName("requestid")[0].childNodes[0].nodeValue;requestid||reject(new Error("Bad CC_FILES_PATH_RESPONSE"));const fileIndex=fileIndexMap[requestid],file=files[fileIndex];if(file||reject(new Error("Bad CC_FILES_PATH_RESPONSE")),xml.getElementsByTagName("path").length&&-1===xml.getElementsByTagName("path")[0].childNodes[0].nodeValue.indexOf("/archive")){const path=xml.getElementsByTagName("path")[0].childNodes[0].nodeValue,status=xml.getElementsByTagName("status")[0].childNodes[0].nodeValue;if("signedout"===status)return void reject(new Error("Authorization error: signed out"));file.identifier=platform["default"].isWindowsOS()&&("PPRO"===host.data.hostID||"AEFT"===host.data.hostID)?rootFolder+path.split("/").join("\\\\"):platform["default"].isWindowsOS()&&"ILST"===host.data.hostID?rootFolder+path.split("/").join("\\"):rootFolder+path;const extension=file.identifier.split(".").pop().toLowerCase();file.kind=CCFilesAdapter_FILETYPE_KIND[extension]?CCFilesAdapter_FILETYPE_KIND[extension]:extension;const newFileName=path.split("/").pop();if(newFileName&&(file.name=path.split("/").pop(),file.tip=rootFolder+(platform["default"].isWindowsOS()?path.split("/").join("\\"):path)),file.availableLocally=cepBridge["default"].fileExists(file.identifier),CCFilesAdapter_NEEDS_THUMBNAIL[host.data.hostID]){const extension=file.name.split(".").pop();let overrideRenditionUrl;!overrideRenditionUrl&&-1<CCFilesAdapter_NO_RENDITIONS.indexOf(extension)&&(overrideRenditionUrl=Federer.a.getDefaultRenditionUrl()),file.thumb=overrideRenditionUrl||Federer.a.getRenditionImageBlobUrl(file.renditionUrl)}else file.thumb=Federer.a.getDefaultRenditionUrl()}else filesToRemove.push(fileIndex);if(++fileCount,fileCount>=files.length){Vulcan.a.removeMessageListener(Vulcan.b.TYPE_PREFIX+CCFilesAdapter_CC_FILES_PATH_RESPONSE,handleCCFilesPath,void 0);for(let i=filesToRemove.length-1;0<=i;i--)files.splice(filesToRemove[i],1);resolve(files)}}catch(err){reject(err)}}let fileCount=0;const filesToRemove=[],fileIndexMap={};files.length||resolve(files),Vulcan.a.addMessageListener(Vulcan.b.TYPE_PREFIX+CCFilesAdapter_CC_FILES_PATH_RESPONSE,handleCCFilesPath,void 0);const userId=MainStore.a.user.UserProfile.userId;for(let i=0;i<files.length;i+=1){const file=files[i],requestid=jsUtil.a.generateGUID();fileIndexMap[requestid]=i;const xmlMessage=CCFilesAdapter_createThorXMLMessagPayload({requestid:requestid,userid:userId,cloudid:CCFilesAdapter_SABRE_CLOUD_ID,job:CCFilesAdapter_SABRE_JOB_ID,type:CCFilesAdapter_CC_FILES_PATH_REQUEST,url:pathRequestUrlPrefix+file.identifier}),ThorRequestMessage=new Vulcan.b(Vulcan.b.TYPE_PREFIX+CCFilesAdapter_CC_FILES_PATH_REQUEST,void 0,void 0);ThorRequestMessage.setPayload(xmlMessage),Vulcan.a.dispatchMessage(ThorRequestMessage)}})}__webpack_require__.r(__webpack_exports__);var cepBridge=__webpack_require__(12),log=__webpack_require__(1),json={readLocalJSONFile:function(path){let obj=null;if(cepBridge["default"].available&&path){const result=window.cep.fs.readFile(path);if(0===result.err)try{obj=JSON.parse(result.data)}catch(err){obj=null,log.a.toConsole(err)}else 3===result.err?log.a.toConsole("Attempt to read JSON file failed, file does not exist ["+path+"]"):log.a.toConsole("Attempt to read JSON file failed with path ["+path+"], error code="+result.err)}return obj},fnftDataReceiver:function(key,val){return val=json_commonDataReceiver(key,val),val},startDataReceiver:function(key,val){switch(key){case"thumbnailViewEnabled":case"listViewEnabled":"string"==typeof val&&(val="true"===val||"1"===val);break;case"size":isNaN(val)||(val=parseInt(val,10));break;case"thumb":val&&("data:image/jpeg;base64,"===val?val="":val=val.replace(/\n/g,""));break;case"icon":0>val.indexOf("SP_Preset")&&0>val.indexOf("SP_QuickStart")&&(val="aep"===val||"pr_proj_primary"===val||"pr_convert_premiere_clip"===val?"CCX_Start_DefaultThumb_Pr_Ae":"ai"===val||"psd"===val||"id"===val||"id_library"===val||"id_book"===val?"CCX_Start_DefaultThumb_Ps_Ai_Id":"CCX_Start_DefaultThumb_other");break;case"dontShowAgain":"string"==typeof val&&(val="true"===val||"1"===val);break;case"secondsLeftInTrial":case"appStartClockTime":"string"==typeof val&&(val=parseInt(val,10));break;case"lastOpened":val=isNaN(val)?new Date(val).getTime():parseInt(val,10);break;default:val=json_commonDataReceiver(key,val);}return val}},perf=__webpack_require__(10),platform=__webpack_require__(74),jsUtil=__webpack_require__(103),constants=__webpack_require__(360),md5=__webpack_require__(467),md5_default=__webpack_require__.n(md5),MainStore=__webpack_require__(361),Vulcan=__webpack_require__(14);const SophiaDataAdapter_LOG_PREFIX="sophia.data:",SophiaDataAdapter_VULCAN_PSDK_FEED_REQUEST="ccxprocess.PSDKFeedRequest",SophiaDataAdapter_VULCAN_PSDK_FEED_RESPONSE="ccxprocess.PSDKFeedResponse";let SophiaDataAdapter_SophiaTimeoutHandler;class SophiaDataAdapter_SophiaDataAdapter{acquireData(cb,hostData){perf.a.set(perf.a.TIMERS.SOPHIA_DATA);const startTimestamp=new Date,onFinish=function(err,data){if(perf.a.measure(perf.a.TIMERS.SOPHIA_DATA),err&&log.a.toConsole(SophiaDataAdapter_LOG_PREFIX+err),data){const controlCount=data.cardControl?data.cardControl.length:0,cardControl={};for(let index=0;index<controlCount;++index){const entry=data.cardControl[index];let experienceID="";cardControl[entry.modeID]=entry,entry.cardOrder.forEach(cardIndex=>{experienceID+=""===experienceID?data.cards[cardIndex].cardID:","+data.cards[cardIndex].cardID}),entry.containerAnalyticsParams&&entry.containerAnalyticsParams.constructor===Array&&entry.containerAnalyticsParams.forEach(params=>{params.requestGUID=data.analyticsParams.requestId||null,params.responseGUID=data.analyticsParams.responseGUID||null,params.surfaceId=params.surfaceId||entry.modeID,params.experienceId=md5_default()(experienceID)})}data.cardControl=cardControl}const durationInMilliSec=Date.now()-startTimestamp.getTime();log.a.toConsole(SophiaDataAdapter_LOG_PREFIX+"It costs "+durationInMilliSec+"ms to get response from CCXProcess."),cb(err,data)};if(!window.__adobe_cep__)return onFinish("CCX Process is not installed.",SophiaDataAdapter_generateDefaultData());const uuid=jsUtil.a.generateGUID(),responder={};responder.handler=function(msg){const responseData=Vulcan.a.getPayload(msg);let psdkJSON,parsedData;try{parsedData=JSON.parse(responseData),log.a.toConsole(SophiaDataAdapter_LOG_PREFIX+" Receiving "+SophiaDataAdapter_VULCAN_PSDK_FEED_RESPONSE+" ["+parsedData.requestId+"], path is "+parsedData.path)}catch(error){return void log.a.toConsole(SophiaDataAdapter_LOG_PREFIX+" Invalid JSON string:"+responseData)}if(parsedData&&parsedData.requestId===uuid){clearTimeout(SophiaDataAdapter_SophiaTimeoutHandler);let err;if(parsedData.path){const parentFolder=parsedData.path.substring(0,parsedData.path.lastIndexOf("/"));psdkJSON=SophiaDataAdapter_readSophiaJSONFile(parsedData.path),psdkJSON.ccxAssetPath=`file://${parentFolder}`,psdkJSON.src=parsedData.path,log.a.toConsole(SophiaDataAdapter_LOG_PREFIX+" "+JSON.stringify(psdkJSON))}else err=" path is missing, parsedData="+JSON.stringify(parsedData),psdkJSON=SophiaDataAdapter_generateDefaultData();psdkJSON=psdkJSON||{},psdkJSON.settings=parsedData.settings,Vulcan.a.removeMessageListener(Vulcan.b.TYPE_PREFIX+SophiaDataAdapter_VULCAN_PSDK_FEED_RESPONSE,responder.handler,null),onFinish(err,psdkJSON||SophiaDataAdapter_generateDefaultData())}},Vulcan.a.addMessageListener(Vulcan.b.TYPE_PREFIX+SophiaDataAdapter_VULCAN_PSDK_FEED_RESPONSE,responder.handler,null);const psdkParams={productCode:hostData.hostID,productVersion:hostData.appVersion,productLanguage:hostData.language,countryCode:MainStore.a.user.UserProfile.countryCode,subscriptionStatus:MainStore.a.user.subscriptionStatus,ccxVersion:cepBridge["default"].getExtensionVersion(!0).version,radarSessionGUID:hostData.radarSessionGUID,featureFlag:!1,release:constants.a.CCX_START_RELEASE_ID,userId:MainStore.a.user.UserProfile.userId,urgent:!0,displayed:hostData.activeSrc||void 0};if("trial"===psdkParams.subscriptionStatus){const relationshipProfile=MainStore.a.user.RelationshipProfile.find(x=>x.usedForLegacyProfile);psdkParams.trialEndDTS=relationshipProfile&&platform["default"].formatTimeStamp(relationshipProfile.licenseExpiryTimestamp)}const params={psdkParams:psdkParams,requestId:uuid,userTrackingEnabled:hostData.userTrackingEnabled},payload=JSON.stringify(params),PSDKRequestMsg=new Vulcan.b(Vulcan.b.TYPE_PREFIX+SophiaDataAdapter_VULCAN_PSDK_FEED_REQUEST,void 0,void 0);PSDKRequestMsg.setPayload(payload),Vulcan.a.dispatchMessage(PSDKRequestMsg),log.a.toConsole(SophiaDataAdapter_LOG_PREFIX+"Sending "+SophiaDataAdapter_VULCAN_PSDK_FEED_REQUEST+" ["+uuid+"] with payload: "+payload),SophiaDataAdapter_SophiaTimeoutHandler=setTimeout(()=>platform["default"].isCCXProcessInstalled()?void(platform["default"].launchCCXProcess(),Vulcan.a.removeMessageListener(Vulcan.b.TYPE_PREFIX+SophiaDataAdapter_VULCAN_PSDK_FEED_RESPONSE,responder.handler,null),onFinish("Response from CCX Process timed out.",SophiaDataAdapter_generateDefaultData())):onFinish("CCX Process is not installed.",SophiaDataAdapter_generateDefaultData()),4e3)}}var netUtil=__webpack_require__(104);class SophiaSimDataAdapter_SophiaSimDataAdapter{acquireData(cb){if(perf.a.set(perf.a.TIMERS.SOPHIA_DATA),window.localStorage.getItem("mockTestDataPath")){const data=mockTestData.mockSophia;data.ccxAssetPath="",this._formatData(data),cb(null,data)}else netUtil.a.readPlaceholderJSONData("sophia/data.json").then(data=>{perf.a.measure(perf.a.TIMERS.SOPHIA_DATA),this._formatData(data),cb(null,data)}).catch(()=>{perf.a.measure(perf.a.TIMERS.SOPHIA_DATA),cb(null,{cards:[],ccxAssetPath:"",cardControl:[],expirationDTS:"2018-01-01T12:00:00.000+00:00",analyticsParams:{responseGUID:"ffffffff-ffff-ffff-ffff-ffffffffffff",requestId:"ffffffff-ffff-ffff-ffff-ffffffffffff"}})})}_formatData(data){const controlCount=data&&data.cardControl?data.cardControl.length:0,cardControl={};for(let index=0;index<controlCount;++index){const entry=data.cardControl[index];let experienceID="";cardControl[entry.modeID]=entry,entry.cardOrder.forEach(cardIndex=>{entry.modeID===constants.a.SOPHIA_CONTAINER.TRIAL_CARD&&(data.cards[cardIndex].backgroundFillColor=parseInt(data.cards[cardIndex].backgroundFillColor,16).toString(16)),experienceID+=""===experienceID?data.cards[cardIndex].cardID:","+data.cards[cardIndex].cardID}),entry.containerAnalyticsParams&&entry.containerAnalyticsParams.forEach(params=>{params.requestGUID=data.analyticsParams.requestId||null,params.responseGUID=data.analyticsParams.responseGUID||null,params.surfaceId=params.surfaceId||entry.modeID,params.experienceId=md5_default()(experienceID)})}data.cardControl=cardControl}}var imsBridge=__webpack_require__(32),i18n=__webpack_require__(50),Federer=__webpack_require__(404),mobx_module=__webpack_require__(51),CCFilesAdapter_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},CCFilesAdapter_metadata=function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)};const CCFilesAdapter_SABRE_CLOUD_ID="00000000-0000-0000-0000-000000000000",CCFilesAdapter_SABRE_JOB_ID="files",CCFilesAdapter_CC_FILES_ROOT_FOLDER_RESPONSE="adbproduct.files.getCloudsListResponse",CCFilesAdapter_CC_FILES_PATH_REQUEST="sync.in.request.job.getpath",CCFilesAdapter_CC_FILES_PATH_RESPONSE="sync.out.response.job.getpath",CCFilesAdapter_CC_FILES_OBSERVER_CREATE="sync.in.request.observer.create",CCFilesAdapter_CC_FILES_SYNC_STATUS="sync.out.notify.job.status",CCFilesAdapter_XML_START="<?xml version=\"1.0\" encoding=\"utf-8\"?><message>",CCFilesAdapter_XML_END="</message>",CCFilesAdapter_FILETYPE_KIND={psd:"Photoshop",psb:"Photoshop",ai:"Illustrator",ait:"Illustrator Template",pdf:"PDF",indd:"InDesign Document",indt:"InDesign Template",indl:"InDesign Asset Library",indb:"InDesign Book",prproj:"Premiere Pro Project",muse:"Muse",png:"PNG",jpeg:"JPEG",jpg:"JPEG",tiff:"TIFF",tif:"TIFF",gif:"GIF",bmp:"BMP",eps:"Encapsulated PostScript"},CCFilesAdapter_NO_RENDITIONS=["indl","indb","idml"],CCFilesAdapter_NEEDS_THUMBNAIL={PHXS:!0,ILST:!0,IDSN:!0};class CCFilesAdapter_CCFiles{constructor(){this.syncing=!1,this.online=!0,this._updateFn=null,this._syncInProgress=!1,this._haveSyncedAtLeastOnce=!1}configure(updateFn){this._updateFn=updateFn;const countryCode=MainStore.a.user.UserProfile.countryCode,region=i18n.a.regionFromCountryCode(countryCode&&""!==countryCode?countryCode:"US");this._pathRequestUrlPrefix="https://cc-"+region+"1-"+imsBridge.a.environment+".adobesc.com/api/v1/collections/",this._startCCFilesNotification()}_startCCFilesNotification(){if(cepBridge["default"].available){const xmlMessage=CCFilesAdapter_createThorXMLMessagPayload({requestid:jsUtil.a.generateGUID(),type:CCFilesAdapter_CC_FILES_OBSERVER_CREATE}),ThorRequestMessage=new Vulcan.b(Vulcan.b.TYPE_PREFIX+CCFilesAdapter_CC_FILES_OBSERVER_CREATE,void 0,void 0);ThorRequestMessage.setPayload(xmlMessage),Vulcan.a.dispatchMessage(ThorRequestMessage),Vulcan.a.addMessageListener(Vulcan.b.TYPE_PREFIX+CCFilesAdapter_CC_FILES_SYNC_STATUS,this._handleCCFilesSync.bind(this),void 0)}}_stopCCFilesNotification(){Vulcan.a&&Vulcan.a.removeMessageListener(Vulcan.b.TYPE_PREFIX+CCFilesAdapter_CC_FILES_SYNC_STATUS,this._handleCCFilesSync,void 0)}_handleCCFilesSync(data){const responseData=Vulcan.a.getPayload(data),xml=new DOMParser().parseFromString(responseData,"text/xml"),status=xml.getElementsByTagName("minorstate")[0].childNodes[0].nodeValue;this._syncInProgress||"complete"!==status||(log.a.toConsole("ccfiles.sync: update request from CoreSync"),this.sync())}_getCCFilesRootFolder(){return new Promise((resolve,reject)=>{function handleCCFilesRootFolder(message){try{Vulcan.a.removeMessageListener(Vulcan.b.TYPE_PREFIX+CCFilesAdapter_CC_FILES_ROOT_FOLDER_RESPONSE,handleCCFilesRootFolder,void 0);const responseData=Vulcan.a.getPayload(message),xml=new DOMParser().parseFromString(responseData,"text/xml"),clouds=xml.getElementsByTagName("cloud"),cloudsCount=clouds.length||0;if(cloudsCount){let rootFolder="",enabled=!0;for(let i=0;i<cloudsCount;++i){const cloudId=clouds.item(i).getElementsByTagName("id")[0].childNodes[0].nodeValue,cloudSyncPref=clouds.item(i).getElementsByTagName("syncPref")[0].childNodes[0].nodeValue;enabled="on"===cloudSyncPref,cloudId===CCFilesAdapter_SABRE_CLOUD_ID&&(rootFolder=window.unescape(clouds.item(i).getElementsByTagName("folderLocation")[0].childNodes[0].nodeValue))}const hostID=host.data.hostID;if(platform["default"].isWindowsOS()&&("PHXS"===hostID||"PPRO"===hostID||"AEFT"===hostID)){let winRootFolder="";"PHXS"===hostID?(winRootFolder=rootFolder.split("\\").join("/"),rootFolder="file://"+winRootFolder):("PPRO"===hostID||"AEFT"===hostID)&&(winRootFolder=rootFolder.split("\\").join("\\\\"),rootFolder=winRootFolder)}""===rootFolder?reject(new Error(enabled?"Unable to fetch root folder":"CC-Files sync is disabled")):resolve(rootFolder)}else reject(new Error("Unable to fetch root folder, no clouds"))}catch(err){reject(err)}}Vulcan.a.addMessageListener(Vulcan.b.TYPE_PREFIX+CCFilesAdapter_CC_FILES_ROOT_FOLDER_RESPONSE,handleCCFilesRootFolder.bind(this),void 0);let xmlMessage="";const params={"request-id":jsUtil.a.generateGUID()};Object.keys(params).forEach(param=>{xmlMessage+="<"+param+">"+params[param]+"</"+param+">"});const ThorRequestMessage=new Vulcan.b(Vulcan.b.TYPE_PREFIX+"accc.files.getCloudsListRequest",void 0,void 0);ThorRequestMessage.setPayload("<?xml version=\"1.0\" encoding=\"utf-8\"?><request>"+xmlMessage+"</request>"),Vulcan.a.dispatchMessage(ThorRequestMessage)})}sync(){this._syncInProgress||(this._syncInProgress=!0,!this._haveSyncedAtLeastOnce&&(this.syncing=!0),this._getCCFilesRootFolder().then(rootFolder=>(this.rootFolder=rootFolder,CCFilesAdapter_search())).then(files=>CCFilesAdapter_getPaths(this._pathRequestUrlPrefix,this.rootFolder,files)).then(files=>{this.online=!0,this._updateFn&&this._updateFn(files),this.syncing=!1,this._syncInProgress=!1,this._haveSyncedAtLeastOnce=!0}).catch(error=>{this.online=!1,log.a.logJSON("ccfiles sync error: ",error.message),this._updateFn&&this._updateFn([]),this.syncing=!1,this._syncInProgress=!1}))}}CCFilesAdapter_decorate([mobx_module.t,CCFilesAdapter_metadata("design:type",Object)],CCFilesAdapter_CCFiles.prototype,"syncing",void 0),CCFilesAdapter_decorate([mobx_module.t,CCFilesAdapter_metadata("design:type",Object)],CCFilesAdapter_CCFiles.prototype,"rootFolder",void 0),CCFilesAdapter_decorate([mobx_module.t,CCFilesAdapter_metadata("design:type",Object)],CCFilesAdapter_CCFiles.prototype,"online",void 0);var CCFilesSimAdapter_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},CCFilesSimAdapter_metadata=function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)};class CCFilesSimAdapter_CCFiles{constructor(){this.syncing=!1,this.rootFolder=null,this.online=!0}configure(updateFn){log.a.toConsole("configure was called with updateFn: "+updateFn),this._configuration={updateFn:updateFn},log.a.logJSON("ccfiles.configuration:",this._configuration)}sync(){log.a.toConsole("sync was called");new Promise(resolve=>{mockTestData.mockCCFiles?resolve(mockTestData.mockCCFiles.cards):resolve([])}).then(data=>{this._configuration.updateFn&&this._configuration.updateFn(data)})}}CCFilesSimAdapter_decorate([mobx_module.t,CCFilesSimAdapter_metadata("design:type",Object)],CCFilesSimAdapter_CCFiles.prototype,"syncing",void 0),CCFilesSimAdapter_decorate([mobx_module.t,CCFilesSimAdapter_metadata("design:type",Object)],CCFilesSimAdapter_CCFiles.prototype,"rootFolder",void 0),CCFilesSimAdapter_decorate([mobx_module.t,CCFilesSimAdapter_metadata("design:type",Object)],CCFilesSimAdapter_CCFiles.prototype,"online",void 0);var localstorage=__webpack_require__(18),HostAdapter_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},HostAdapter_metadata=function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)};class HostAdapter_HostAdapter{get showSearch(){return!0}initCCFiles(){this.ccfiles=window.localStorage.getItem("mockTestDataPath")?new CCFilesSimAdapter_CCFiles:new CCFilesAdapter_CCFiles}goBackToFile(){cepBridge["default"].closeExtensionOnStatus("true")}addVisibilityListener(){}getSophiaDataRaw(hostData){const isSim="undefined"!=typeof hostData.usingSimData&&hostData.usingSimData;return new Promise(resolve=>{const sophiaDataAdapter=isSim?new SophiaSimDataAdapter_SophiaSimDataAdapter:new SophiaDataAdapter_SophiaDataAdapter;sophiaDataAdapter.acquireData((err,data)=>{err&&this.mainStore.setPotentialErrorMessageForDefaultLayout(err),0<data.cards.length?(localstorage.a.setGlobalItem("sophiaParams",this._sophiaCacheParams),localstorage.a.setGlobalItem("sophiaData",data),this.mainStore.setCCXAssetPath(data.ccxAssetPath)):(localstorage.a.setGlobalItem("sophiaParams",void 0),localstorage.a.setGlobalItem("sophiaData",void 0)),resolve(data)},hostData)})}get _sophiaCacheParams(){return JSON.stringify({productLanguage:this.data.language,countryCode:this.mainStore.user.UserProfile.countryCode,subscriptionStatus:this.mainStore.user.subscriptionStatus,ccxVersion:cepBridge["default"].getExtensionVersion(!0).version,userId:this.mainStore.user.UserProfile.userId})}async getSophiaData(hostData,force=!1,activeSrc=""){if(!force&&localstorage.a.getGlobalItem("sophiaParams")===this._sophiaCacheParams){const data=localstorage.a.getGlobalItem("sophiaData");return 0===data.cards.length||new Date(data.expirationDTS)<new Date?await this.getSophiaDataRaw(hostData):(this.mainStore.setCCXAssetPath(data.ccxAssetPath),data.isCached=!0,data)}return await this.getSophiaDataRaw(Object.assign({activeSrc},hostData))}getData(){return Promise.reject("not implemented")}openMRU(){}defaultNewDocument(){}releaseFileReference(){}openCustomItem(){}openPlaceDialog(){this.openDocument.apply(this,arguments)}openCCFilesDocument(){}openDVATeamProject(){}defaultNewDVATeamProject(){}openRushProject(){}openDocument(isTemplate=!1,callback=()=>{}){}openPathWithXMP(callback=()=>{}){}handleStatusChange(){return Promise.reject("not implemented")}getSophiaCardOrder(surfaceID){return this.sophiaStore?this.sophiaStore.getCardOrder(surfaceID):[]}getSophiaCardAnalytics(surfaceID,index){return"undefined"==typeof index?{}:this.sophiaStore&&this.sophiaStore.cardControl&&this.sophiaStore.cardControl[surfaceID]?this.sophiaStore.cardControl[surfaceID].containerAnalyticsParams[index]:{}}commonStatusChangeHandler(statusEvent,statusData){switch(statusEvent){case"updateShortcutKey":{const buttonInfo=this.data.buttonInfo[statusData.buttonID]||null;buttonInfo&&(buttonInfo.shortcut=statusData.shortcut.replace(/Cmd\+/,"\u2318"));break}case"updateFNFTPref":{let fnftEnabled=statusData||!1;"string"==typeof fnftEnabled&&(fnftEnabled="true"===fnftEnabled||"1"===fnftEnabled),this.data.setFnftEnabled(fnftEnabled);break}default:}}updateMRUFileSize(files){files&&files.forEach(entry=>{isNaN(entry.size)||(entry.size=jsUtil.a.createFileSizeString(entry.size))})}triggerIPCAction(eventAction,eventData){cepBridge["default"].sendEvent(eventAction,eventData)}}HostAdapter_HostAdapter._mruCallbackPending=!1,HostAdapter_decorate([mobx_module.t,HostAdapter_metadata("design:type",Object)],HostAdapter_HostAdapter.prototype,"data",void 0),HostAdapter_decorate([mobx_module.t,HostAdapter_metadata("design:type",Object)],HostAdapter_HostAdapter.prototype,"mainStore",void 0),HostAdapter_decorate([mobx_module.t,HostAdapter_metadata("design:type",Object)],HostAdapter_HostAdapter.prototype,"sophiaStore",void 0),HostAdapter_decorate([mobx_module.t,HostAdapter_metadata("design:type",Object)],HostAdapter_HostAdapter.prototype,"ccfiles",void 0);class SimulatedHostAdapter_SimulatedHostAdapter extends HostAdapter_HostAdapter{getData(hostID="PHXS"){return new Promise((resolve,reject)=>{perf.a.set(perf.a.TIMERS.APPDATA);const datafile=hostID.toLowerCase()+"-host.json";netUtil.a.readPlaceholderJSONData("appdata/"+datafile,json.startDataReceiver).then(jsonData=>{if(perf.a.measure(perf.a.TIMERS.APPDATA),jsonData.platform=platform["default"].isWindowsOS()?"win":"mac",jsonData.tabs&&jsonData.tabs.constructor===Array){const tabCount=jsonData.tabs.length;if(tabCount){const tabs={};for(let index=0;index<tabCount;++index){const tabData=jsonData.tabs[index];"recentlib"!==tabData.type&&(tabs[tabData.type]=tabData)}tabs.ccfiles||(tabs.ccfiles={type:"ccfiles",label:"listview_ccfiles_tab_label",listViewEnabled:!1,thumbnailViewEnabled:!0,list:[]}),jsonData.tabs=tabs}}resolve(jsonData)}).catch(err=>{perf.a.measure(perf.a.TIMERS.APPDATA),log.a.toConsole(err),reject(err)})})}handleStatusChange(evt,hostID="PHXS"){return new Promise((resolve,reject)=>{if("updateMRUList"===evt.statusEvent){const datafile=hostID.toLowerCase()+"-host-updated.json";netUtil.a.readPlaceholderJSONData("appdata/"+datafile,json.startDataReceiver).then(jsonData=>{if(jsonData.tabs&&jsonData.tabs.constructor===Array){const tabCount=jsonData.tabs.length;if(tabCount){const tabs={};for(let index=0;index<tabCount;++index){const tabData=jsonData.tabs[index];"recentlib"!==tabData.type&&(tabs[tabData.type]=tabData)}tabs.ccfiles||(tabs.ccfiles={type:"ccfiles",label:"listview_ccfiles_tab_label",listViewEnabled:!1,thumbnailViewEnabled:!0,list:[]}),jsonData.tabs=tabs}}resolve(jsonData.tabs.recentfile.list)}).catch(err=>{log.a.toConsole(err),reject(err)})}})}}var analytics_pip=__webpack_require__(59),analytics_ingest=__webpack_require__(102);class ExtendScriptHostAdapter_ExtendScriptHostAdapter extends HostAdapter_HostAdapter{getData(){return new Promise((resolve,reject)=>{perf.a.set(perf.a.TIMERS.APPDATA),cepBridge["default"].evalExtendScript("CCXHostBridge.getUserJSONData(\""+cepBridge["default"].applicationID+"\")",jsData=>{try{perf.a.measure(perf.a.TIMERS.APPDATA);const jsonData=JSON.parse(jsData,json.startDataReceiver);jsonData.tabs.splice(1,0,{type:"ccfiles",label:"listview_ccfiles_tab_label",listViewEnabled:!0,thumbnailViewEnabled:"AEFT"!==jsonData.hostID&&"PPRO"!==jsonData.hostID&&"MUSE"!==jsonData.hostID&&"DRWV"!==jsonData.hostID,list:[]});const tabCount=jsonData.tabs.length;if(tabCount){const tabs={};for(let index=0;index<tabCount;++index){const tabData=jsonData.tabs[index];tabData.list||(tabData.list=[]),"recentlib"!==tabData.type&&(tabs[tabData.type]=tabData)}jsonData.tabs=tabs}jsonData.startVersion=window.appVersionNumber,localstorage.a.setGlobalItem("hostdata",jsonData),resolve(jsonData)}catch(err){reject(err)}})})}defaultNewDocument(){switch(this.data.hostID){case"ILST":case"IDSN":if(this.data.fnftEnabled){const fnftLoadingStartTime=new Date().getTime();analytics_pip.a.logEvent("fnftCategory","performance","fnftStart"),log.a.toConsole("Cmd-N loading starts at: "+fnftLoadingStartTime),cepBridge["default"].sendEvent(constants.a.IPCEVENT.FNFTSTARTTIME,fnftLoadingStartTime.toString())}cepBridge["default"].sendEvent(constants.a.IPCEVENT.EXECUTEMENUCMD,constants.a.MENUCMD_ACTION.NEW_DOCUMENT);break;case"AEFT":cepBridge["default"].evalExtendScript("AEFTBridge.createDefaultDocument()",cepBridge["default"].closeExtensionOnStatus);break;default:cepBridge["default"].sendEvent(constants.a.IPCEVENT.EXECUTEMENUCMD,constants.a.MENUCMD_ACTION.NEW_DOCUMENT);}}openDocument(documentPath,isTemplate=!1,callback=()=>{}){documentPath||("AEFT"===this.data.hostID?cepBridge["default"].evalExtendScript("AEFTBridge.openDocumentWithUI()",cepBridge["default"].closeExtensionOnStatus):cepBridge["default"].sendEvent(constants.a.IPCEVENT.EXECUTEMENUCMD,constants.a.MENUCMD_ACTION.OPEN_FILE_DIALOG))}openMRU(mruItem){const path=mruItem.identifier;cepBridge["default"].sendEvent(constants.a.IPCEVENT.OPENRECENTFILE,path)}openCustomItem(item){cepBridge["default"].sendEvent(constants.a.IPCEVENT.EXECUTEMENUCMD,item.identifier)}defaultNewDVATeamProject(){analytics_ingest.a.logClickedEvent("new-team-project"),cepBridge["default"].sendEvent(constants.a.IPCEVENT.EXECUTEMENUCMD,constants.a.MENUCMD_ACTION.NEW_TEAMPROJECT)}openDVATeamProject(){analytics_ingest.a.logClickedEvent("open-team-project"),cepBridge["default"].sendEvent(constants.a.IPCEVENT.EXECUTEMENUCMD,constants.a.MENUCMD_ACTION.OPEN_TEAMPROJECT)}openRushProject(){analytics_ingest.a.logClickedEvent("open-rush-project"),cepBridge["default"].sendEvent(constants.a.IPCEVENT.EXECUTEMENUCMD,constants.a.MENUCMD_ACTION.OPEN_RUSHPROJECT)}updateVisibilty(){cepBridge["default"].evalExtendScript("app.documents.length > 0",hasOpenDocuments=>{cepBridge["default"].evalExtendScript("app.homeScreenVisible",visibility=>this.data.updateVisibility(JSON.parse(visibility),JSON.parse(hasOpenDocuments)))})}addVisibilityListener(){cepBridge["default"].addEventListener("com.adobe.ccx.start.homeScreenVisibilityChanged",this.updateVisibilty.bind(this))}openCCFilesDocument(ccfileItem){const path=ccfileItem.identifier;let files=JSON.stringify({path:[path]});platform["default"].isWindowsOS()&&"PPRO"===this.data.hostID&&(files="{\"path\":[\""+path+"\"]}"),log.a.toConsole("CC-Files :: opening "+path),"AEFT"===this.data.hostID?cepBridge["default"].evalExtendScript("AEFTBridge.openDocumentWithPath(\""+path+"\")",cepBridge["default"].closeExtensionOnStatus):this.openDroppedFiles(files)}openDroppedFiles(dropfiles){dropfiles&&cepBridge["default"].sendEvent(constants.a.IPCEVENT.OPENDROPFILES,dropfiles)}openPlaceDialog(){"AEFT"===this.data.hostID?cepBridge["default"].evalExtendScript(`AEFTBridge.placeDocument(null)`,result=>{"true"===result&&window.__adobe_cep__.closeExtension()}):this.openDocument.apply(this,arguments)}handleStatusChange(evt){let evtData;return new Promise((resolve,reject)=>{try{switch(evtData="string"==typeof evt.data?JSON.parse(evt.data):evt.data,evtData.statusEvent){case"updateMRUList":if(evtData.statusData){let mruUpdate=[];localstorage.a.getUserItem(constants.a.LOCALSTORE_KEYS.MAIN_PREFS);try{mruUpdate=JSON.parse(JSON.stringify(evtData.statusData),json.startDataReceiver)}catch(err){reject(err)}"[\"\"]"===JSON.stringify(mruUpdate)&&(mruUpdate=[]),log.a.logJSON("mru.data:",mruUpdate);const hostData=localstorage.a.getGlobalItem("hostdata");hostData&&(hostData.tabs.recentfile.list=mruUpdate,localstorage.a.setGlobalItem("hostdata",hostData)),resolve(mruUpdate)}break;default:this.commonStatusChangeHandler(evtData.statusEvent,evtData.statusData),resolve();}}catch(err){reject(err)}})}}class PhotoshopHostAdapter_PhotoshopHostAdapter extends HostAdapter_HostAdapter{constructor(){super(),window.addLateLoadCallBack(()=>{cepBridge["default"].sendEvent("com.adobe.PhotoshopLoseFocus",null),cepBridge["default"].sendEvent("com.adobe.PhotoshopRegisterEvent",1936028772 .toString()),cepBridge["default"].addEventListener("com.adobe.PhotoshopJSONCallback"+cepBridge["default"].extensionID,this.handleStatusChange.bind(this))})}_getDefaultTabs(mruList){return{recentfile:{type:"recentfile",label:"listview_recentfiles_tab_label",listViewEnabled:!0,thumbnailViewEnabled:!0,list:mruList},ccfiles:{type:"ccfiles",label:"listview_ccfiles_tab_label",listViewEnabled:!0,thumbnailViewEnabled:!0,list:[]},ccphotos:{type:"ccphotos",label:"listview_ccphotos_tab_label",listViewEnabled:!0,thumbnailViewEnabled:!0,list:[]}}}getMru(){this.mruList=localstorage.a.getGlobalItem(constants.a.LOCALSTORE_KEYS.MRU_LIST);const known={};return this.mruList&&this.mruList.forEach(file=>{file.thumb&&(known[file.tip]=file.lastOpened)}),JSON.stringify(known)}updateMru(files){const known={};return this.mruList=this.mruList||localstorage.a.getGlobalItem(constants.a.LOCALSTORE_KEYS.MRU_LIST),this.mruList&&this.mruList.forEach(file=>{known[file.tip]=file.thumb}),files.forEach(file=>{"PRE_EXISTING"===file.thumb&&(file.thumb=known[file.tip])}),delete this.mruList,localstorage.a.setGlobalItem(constants.a.LOCALSTORE_KEYS.MRU_LIST,files),files}updateVisibilty(){cepBridge["default"].evalExtendScript("app.documents.length > 0",hasOpenDocuments=>{cepBridge["default"].evalExtendScript("PHXSBridge.getHomescreenVisibility()",visibility=>{this.data.updateVisibility(JSON.parse(visibility),JSON.parse(hasOpenDocuments))})})}addVisibilityListener(){this.data.homescreenVisibilityEventId&&(cepBridge["default"].addEventListener("com.adobe.PhotoshopJSONCallback"+cepBridge["default"].extensionID,this.updateVisibilty.bind(this)),cepBridge["default"].sendEvent("com.adobe.PhotoshopRegisterEvent",this.data.homescreenVisibilityEventId.toString()))}getData(){return new Promise((resolve,reject)=>{cepBridge["default"].evalExtendScript(`PHXSBridge.getCCXUserJSON(undefined, ${this.getMru()})`,jsData=>{try{perf.a.measure(perf.a.TIMERS.APPDATA),console.log(cepBridge["default"].applicationID+" host:"+jsData);const jsonData=JSON.parse(jsData,json.startDataReceiver);this.updateMru(jsonData.recentFiles.list),jsonData.tabs=this._getDefaultTabs(jsonData.recentFiles.list||[]),jsonData.startVersion=window.appVersionNumber,localstorage.a.setGlobalItem("hostdata",jsonData),resolve(jsonData)}catch(err){reject(err)}})})}getPipMethodString(context,viewMode){let method=cepBridge["default"].extensionID.replace("com.adobe.","")+" "+context;return viewMode&&(method+=" "+viewMode),method}defaultNewDocument(){cepBridge["default"].sendEvent(constants.a.IPCEVENT.LOADEXTENSION,"com.adobe.ccx.fnft"),cepBridge["default"].evalExtendScript("PHXSBridge.createDocumentFromTemplate()",status=>{cepBridge["default"].closeExtensionOnStatus(status)})}openDocument(documentPath,isTemplate=!1,callback=()=>{}){if(documentPath){const pipMethod=this.getPipMethodString("open.ccphoto"),script=`PHXSBridge.openDocumentWithPath(
				"${documentPath}",
				"${pipMethod}",
				"${!!isTemplate}"
			)`;cepBridge["default"].evalExtendScript(script,status=>{cepBridge["default"].closeExtensionOnStatus(status),callback("true"===status.toLowerCase())})}else{const pipMethod=this.getPipMethodString("open.dialog");cepBridge["default"].evalExtendScript("PHXSBridge.openDocumentWithUI(\""+pipMethod+"\")",status=>{cepBridge["default"].closeExtensionOnStatus(status),callback("true"===status.toLowerCase())})}}openPathWithXMP(path,xmpString,adobeUserOrientation,callback=()=>{}){const pipMethod=this.getPipMethodString("open.dialog","ACR"),script=`PHXSBridge.openWithACR(
			${JSON.stringify(path)},
			${JSON.stringify(xmpString)},
			${adobeUserOrientation},
			${JSON.stringify(pipMethod)}
		)`;cepBridge["default"].evalExtendScript(script,status=>{cepBridge["default"].closeExtensionOnStatus(status),callback("true"===status.toLowerCase())})}openMRU(mruItem,viewMode){const path=mruItem.identifier,pipMethod=this.getPipMethodString("recent",viewMode);cepBridge["default"].evalExtendScript("PHXSBridge.openDocumentWithMRUIdentifier(\""+path+"\",\""+pipMethod+"\")",cepBridge["default"].closeExtensionOnStatus)}openCCFilesDocument(ccfileItem,viewMode){const path=ccfileItem.identifier,pipMethod=this.getPipMethodString("ccfiles",viewMode);log.a.toConsole("CC-Files :: opening "+path),cepBridge["default"].evalExtendScript("PHXSBridge.openDocumentWithPath(\""+path+"\",\""+pipMethod+"\")",cepBridge["default"].closeExtensionOnStatus)}openDroppedFiles(dropfiles){if(dropfiles){const pipMethod=this.getPipMethodString("drag.drop");cepBridge["default"].evalExtendScriptWithParams("PHXSBridge.openDroppedDocument",dropfiles,pipMethod,cepBridge["default"].closeExtensionOnStatus)}}handleStatusChange(evt){let evtData;evt.data=evt.data.replace(/'/g,"\"");const evData=evt.data.match(/^ver1,/)?JSON.parse(evt.data.replace(/^ver1,/,"")):null;return new Promise((resolve,reject)=>{if(evData&&evData.eventID&&evData.eventData)return 1936028772===evData.eventID&&evData.eventData.to&&evData.eventData.to._obj&&"generalPreferences"===evData.eventData.to._obj&&"undefined"!=typeof evData.eventData.to.useClassicFileNewDialog&&(this.data.fnftEnabled=!evData.eventData.to.useClassicFileNewDialog),resolve();try{evtData="string"==typeof evt.data?JSON.parse(evt.data):evt.data}catch(err){reject(err)}switch(evtData.statusEvent){case"updateMRUList":{if(!this._mruCallbackPending){this._mruCallbackPending=!0;localstorage.a.getUserItem(constants.a.LOCALSTORE_KEYS.MAIN_PREFS);cepBridge["default"].evalExtendScript(`PHXSBridge.getRecentFiles(false, ${this.getMru()})`,mruListStr=>{try{const updatedMRUs=JSON.parse(mruListStr,json.startDataReceiver);this.updateMru(updatedMRUs.list),this._mruCallbackPending=!1;const hostData=localstorage.a.getGlobalItem("hostdata");hostData&&(hostData.tabs.recentfile.list=updatedMRUs.list,localstorage.a.setGlobalItem("hostdata",hostData)),resolve(updatedMRUs.list)}catch(err){this._mruCallbackPending=!1,reject(err)}})}break}default:resolve(),this.commonStatusChangeHandler(evtData.statusEvent,evtData.statusData);}})}releaseFileReference(newTitle){cepBridge["default"].evalExtendScript(`PHXSBridge.releaseFileReference("${newTitle}")`,cepBridge["default"].closeExtensionOnStatus)}setActiveDocumentTitle(newTitle){cepBridge["default"].evalExtendScript(`PHXSBridge.setActiveDocumentTitle("${newTitle}")`,cepBridge["default"].closeExtensionOnStatus)}}var host=__webpack_exports__["default"]=class{static getInstance(){if(!this._instance)if(cepBridge["default"].available)switch(cepBridge["default"].applicationID){case"PHXS":this._instance=new PhotoshopHostAdapter_PhotoshopHostAdapter;break;default:this._instance=new ExtendScriptHostAdapter_ExtendScriptHostAdapter;}else this._instance=new SimulatedHostAdapter_SimulatedHostAdapter;return this._instance}}.getInstance()},360:function(module,__webpack_exports__){"use strict";__webpack_exports__.a={DEBOUNCE:{WAIT:2e3,OPTIONS:{leading:!0,trailing:!1}},events:{SCROLLFROMTOP:"scrollfromtop",SCROLLTOTOP:"scrolltotop",VIDEO_CARD_CLICKED:"videoCardClicked",OPEN_SEARCH:"open search",CLOSE_SEARCH:"closeSearch",MODAL_OPENED:"model opened",MODAL_CLOSED:"model closed"},DEFAULT_ITEM_VIEW:"grid",LOCALSTORE_KEYS:{MRU_PREFS:"start.mruPrefs",CCFILES_PREFS:"start.ccfilesPrefs",MAIN_PREFS:"start.mainPrefs",MRU_LIST:"start.mruList",LOCALE_CACHE_PREFIX:"start.localeCache",PHOTOSHOP_VISIBLITY_ID:"ps.visibilityId"},SOPHIA_CONTAINER:{TRIAL_CARD:"trial",FIRSTRUN:"firstrun",DISCOVER:"discover",LEARN:"learn",FOOTER:"footer",EXPERIMENTS:"experiments"},LEARN_PLATFORMS:{WEB:["helpx","cc-learn","ccx"],IN_APP:["in-app","in_app"]},SOPHIA_SURFACEID:{TUTORIALS:"CCX_TUTORIAL_2.5",LEARN:"CCX_Start_2.5_Learn",HOME:"CCX_Start_2.5_Home",TOAST:"CCX_Start_2.5_Toast"},TRIAL_CARD:{ERROR_BEGIN:86400,WARNING_BEGIN:259200,ERROR_COLOR:"E34859",DEFAULT_FILL_COLOR:"1473E6",WARNING_COLOR:"E68619"},ANALYTICS:{HIGHBEAM_CATEGORY:"CCXStart",INGEST_PRODUCTKEY:"CCXInAppWelcome"},IPCEVENT:{EXTENSIONREADY:"com.adobe.ccx.start.extensionReady",OPENRECENTFILE:"com.adobe.ccx.start.handleRecentFileOpen",EXECUTEMENUCMD:"com.adobe.ccx.start.handleExecuteMenuCommand",HOSTSTATUSCHANGED:"com.adobe.ccx.start.hostStatusChanged",REQUESTHOSTCLOSE:"com.adobe.ccx.start.requestHostClose",OPENDROPFILES:"com.adobe.ccx.start.handleDropFileOpen",OPENPREFERENCES:"com.adobe.ccx.start.handleOpenPreferences",TRIALEXPIRED:"com.adobe.ccx.start.trialExpired",GETUSERJSONDATAREQUEST:"com.adobe.ccx.start.getCCXUserJSONData.request",GETUSERJSONDATARESPONSE:"com.adobe.ccx.start.getCCXUserJSONData.response",NEWDOCFROMTEMPLATE:"com.adobe.ccx.fnft.newDocFromTemplate",HOSTCLOSEFNFT:"com.adobe.ccx.fnft.hostRequestsClose",REQUESTDATACALC:"com.adobe.ccx.fnft.requestDataCalculation",UPDATEDATACALC:"com.adobe.ccx.fnft.updateDataCalculation",SAVEPRESET:"com.adobe.ccx.fnft.savePreset",DELETEPRESET:"com.adobe.ccx.fnft.deletePreset",LOADEXTENSION:"com.adobe.extension.loadExtension",INTERACTIVEREADY:"com.adobe.extension.interactiveReady",FNFTSTARTTIME:"com.adobe.ccx.fnft.loadStartTime",LICENSEDATAUPDATE:"com.adobe.handleLicenseDataUpdate",VULCAN_START_SETTINGS_PATCH_UPDATE:"ccxprocess.StartSettingsPatchUpdate",VULCAN_PSDK_BROADCAST:"ccxprocess.PSDKFeedBroadcast",VULCAN_START_SETTINGS_REQUEST:"vulcan.SuiteMessage.ccxprocess.StartSettingsRequest"},CTA_EVENTS:{IN_APP_TUTORIAL:"com.adobe.ccx.start.openInAppTutorial",PRESET:"FirstMileEvent.PresetClicked",VIDEO_OVERLAY:"FirstMileEvent.VideoOverlay"},MENUCMD_ACTION:{NEW_DOCUMENT:"new_default",OPEN_FILE_DIALOG:"open",NEW_TEAMPROJECT:"new_production",OPEN_TEAMPROJECT:"open_production",OPEN_RUSHPROJECT:"convert_rush"},SERVICE_URL:{ACCOUNT:"https://accounts.adobe.com/",PLANS:"https://creative.adobe.com/plans"},SORT:{ASCENDING:"asc",DESCENDING:"desc"},FILETYPE_KIND:{psd:"Photoshop",psb:"Photoshop",ai:"Illustrator",ait:"Illustrator Template",pdf:"PDF",indd:"InDesign Document",indt:"InDesign Template",indl:"InDesign Asset Library",indb:"InDesign Book",prproj:"Premiere Pro Project",muse:"Muse",png:"PNG",jpeg:"JPEG",jpg:"JPEG",tiff:"TIFF",tif:"TIFF",gif:"GIF",bmp:"BMP",eps:"Encapsulated PostScript"},SUPPORTED_FILETYPE:{PHXS:["psd","jpeg","jpg","png","pdf","gif","tiff","tif","dng","bmp"],ILST:["ai","eps","pdf"],IDSN:["indd","indt","indb","indl","idml"],AEFT:["aep","aepx","aet"],PPRO:["prproj"],MUSE:["muse"],DRWV:["html","css","js","php","scss","sass","less","json","svg","xml","dwt","dwt.php"]},LIGHTROOM_CLIENT_ID:"CCXInAppWelcome",DEFAULT_THUMBNAIL_PATH:"./images/thumbs/",DEFAULT_THUMBNAIL_PS_AI_ID:"./images/thumbs/CCX_Start_DefaultThumb_Ps_Ai_Id.png",DEFAULT_THUMBNAIL_OTHER:"./images/thumbs/CCX_Start_DefaultThumb_other.png",THUMBNAIL_SIZE:"400",THUMBNAIL_FORMAT:"image/jpeg",DEFAULT_FIRST_RUN_LAUNCH_COUNT:1,CCX_START_RELEASE_ID:"CCXStart-2-5"}},361:function(module,__webpack_exports__,__webpack_require__){"use strict";function RecentFilesStore_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null==arguments[i]?{}:arguments[i],ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){RecentFilesStore_defineProperty(target,key,source[key])})}return target}function RecentFilesStore_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function UniversalSearchStore_findRendition(renditions,minPixels=76e3){let bestRendition,len=renditions?renditions.length:0,maxRendition=renditions?renditions[0]:null,bestFit=Number.POSITIVE_INFINITY,currentPixelCount=0;if(0===len)return{href:"./images/filetypes/none.png",width:350,height:350,aspectRatio:1};for(;len--;)renditions[len].height&&renditions[len].width&&(currentPixelCount=renditions[len].height*renditions[len].width,currentPixelCount>maxRendition.height*maxRendition.width&&(maxRendition=renditions[len]),currentPixelCount>minPixels&&currentPixelCount<bestFit&&(bestFit=currentPixelCount,bestRendition=renditions[len]));return bestRendition?bestRendition:maxRendition}function SophiaStore_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null==arguments[i]?{}:arguments[i],ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){SophiaStore_defineProperty(target,key,source[key])})}return target}function SophiaStore_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function MainStore_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null==arguments[i]?{}:arguments[i],ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){MainStore_defineProperty(target,key,source[key])})}return target}function MainStore_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function MainStore_storeComponent(fn){return props=>fn(MainStore_mainStore,props)}var constants=__webpack_require__(360),localstorage=__webpack_require__(18),log=__webpack_require__(1),jsUtil=__webpack_require__(103),analytics_ingest=__webpack_require__(102),Federer=__webpack_require__(404),cepBridge=__webpack_require__(12),fuse=__webpack_require__(783),fuse_default=__webpack_require__.n(fuse),mobx_state_tree_module=__webpack_require__(389);class StoreUtil_StoreUtil{static normalizeItemView(view,prefs){let result=view||constants.a.DEFAULT_ITEM_VIEW;return"grid"!==result||prefs.thumbnailViewEnabled?"list"===result&&!prefs.listViewEnabled&&(result="grid"):result="list",result}}const RecentFilesStore_RecentFile=mobx_state_tree_module.f.model("RecentFile",{identifier:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),action:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),thumb:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),icon:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),tip:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),name:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),lastOpened:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.number),kind:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),availableLocally:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.boolean),size:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.number),extension:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),uniqueId:mobx_state_tree_module.f.identifier(mobx_state_tree_module.f.string)}).volatile(()=>({contentType:null,position:-1,term:null,requestGUID:null})).views(self=>({get sortKind(){return self.kind+self.name},get filterName(){return self.name?self.name.normalize():""},get filterExtension(){return self.extension?self.extension.normalize():""}})).preProcessSnapshot(snapshot=>RecentFilesStore_objectSpread({},snapshot,{extension:snapshot.extension||snapshot.kind||(snapshot.name?snapshot.name.split(".").pop():"")})).actions(self=>({setRequestGUID(guid){self.requestGUID=guid},updateFromSearch({contentType,position,term,requestGUID}){self.contentType=contentType,self.position=position,self.term=term,self.requestGUID=requestGUID}})),RecentFilesStore_RecentFilePrefsStore=mobx_state_tree_module.f.model("RecentFilePrefsStore",{thumbnailViewEnabled:!1,listViewEnabled:!1,currentItemView:constants.a.DEFAULT_ITEM_VIEW,sortDirection:constants.a.SORT.DESCENDING,sortItem:"lastOpened"}).preProcessSnapshot(snapshot=>RecentFilesStore_objectSpread({},snapshot,{thumbnailViewEnabled:"string"==typeof snapshot.thumbnailViewEnabled?"true"===snapshot.thumbnailViewEnabled:snapshot.thumbnailViewEnabled,listViewEnabled:"string"==typeof snapshot.listViewEnabled?"true"===snapshot.listViewEnabled:snapshot.listViewEnabled})).volatile(()=>({filterString:""})).actions(self=>{function save(){localstorage.a.setUserItem(constants.a.LOCALSTORE_KEYS.MRU_PREFS,Object(mobx_state_tree_module.d)(self))}return{setFilterString(s){self.filterString=s,save()},setSortDirection(dir){self.sortDirection=dir,save()},setSortItem(item){self.sortItem=item,save()},setItemView(view){view=StoreUtil_StoreUtil.normalizeItemView(view,self),view!==self.currentItemView&&(self.currentItemView=view,save())},loadPrefs(mruPrefs){if(mruPrefs){const prefs=localstorage.a.getUserItem(constants.a.LOCALSTORE_KEYS.MRU_PREFS)||mruPrefs;Object(mobx_state_tree_module.b)(self,prefs),self.currentItemView=StoreUtil_StoreUtil.normalizeItemView(self.currentItemView,self)}}}});let RecentFilesStore_nextRecentFileId=0;const RecentFilesStore_RecentFilesStore=mobx_state_tree_module.f.model("RecentFilesStore",{prefs:mobx_state_tree_module.f.optional(RecentFilesStore_RecentFilePrefsStore,{}),items:mobx_state_tree_module.f.optional(mobx_state_tree_module.f.array(RecentFilesStore_RecentFile),[]),artificialLength:-1}).views(self=>({get realOrArtificialLength(){return 0>self.artificialLength?self.items.length:self.artificialLength}})).actions(self=>({addRecentFiles(files){self.items.replace(files.map(file=>RecentFilesStore_objectSpread({},file,{uniqueId:`recent-${++RecentFilesStore_nextRecentFileId}`}))),self.artificialLength=-1},setArtificialLength(artificialLength){self.artificialLength=artificialLength}})),CCFilesStore_CCFile=mobx_state_tree_module.f.model("CCFile",{action:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),identifier:mobx_state_tree_module.f.identifier(mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string)),thumb:mobx_state_tree_module.f.optional(mobx_state_tree_module.f.frozen,null),icon:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),tip:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),name:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),lastOpened:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.number),kind:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),availableLocally:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.boolean),size:mobx_state_tree_module.f.number}).actions(self=>({setThumb(thumb){self.thumb=thumb}})).actions(self=>({afterCreate(){self.thumb instanceof Promise&&(self.thumb.then(self.setThumb),self.thumb=null),Object(mobx_state_tree_module.e)(self,(patch,reversePatch)=>{"/thumb"===patch.path&&patch.value instanceof Promise&&(Object(mobx_state_tree_module.a)(self,reversePatch),patch.value.then(self.setThumb))})}})).views(self=>({get sortKind(){return self.kind+self.name},get filterName(){return self.name?self.name.normalize():""},get filterExtension(){return""},get uniqueId(){return self.identifier}})),CCFilesStore_CCFilePrefsStore=mobx_state_tree_module.f.model("CCFilePrefsStore",{thumbnailViewEnabled:!0,listViewEnabled:!0,currentItemView:constants.a.DEFAULT_ITEM_VIEW,sortDirection:constants.a.SORT.DESCENDING,sortItem:"lastOpened"}).volatile(()=>({filterString:""})).actions(self=>{function save(){localstorage.a.setUserItem(constants.a.LOCALSTORE_KEYS.CCFILES_PREFS,Object(mobx_state_tree_module.d)(self))}return{setFilterString(s){self.filterString=s,save()},setSortDirection(dir){self.sortDirection=dir,save()},setSortItem(item){self.sortItem=item,save()},setItemView(view){view=StoreUtil_StoreUtil.normalizeItemView(view,self),view!==self.currentItemView&&(self.currentItemView=view,save())},loadPrefs(ccFilesPrefs){if(ccFilesPrefs){const prefs=localstorage.a.getUserItem(constants.a.LOCALSTORE_KEYS.CCFILES_PREFS)||ccFilesPrefs;Object(mobx_state_tree_module.b)(self,prefs),self.currentItemView=StoreUtil_StoreUtil.normalizeItemView(self.currentItemView,self)}}}}),CCFilesStore_CCFilesStore=mobx_state_tree_module.f.model("CCFilesStore",{prefs:mobx_state_tree_module.f.optional(CCFilesStore_CCFilePrefsStore,{}),items:mobx_state_tree_module.f.optional(mobx_state_tree_module.f.array(CCFilesStore_CCFile),[])}).actions(self=>({addCcFiles(files){self.items.replace(files)}})),UniversalSearchStore_LEARN_RESULTS_SIZE=3,UniversalSearchStore_FUSE_OPTIONS={shouldSort:!0,tokenize:!0,matchAllTokens:!0,threshold:.1,location:0,distance:1e3,maxPatternLength:32,minMatchCharLength:1,keys:["filterName","filterExtension"]},UniversalSearchStore_UniversalSearchStore=mobx_state_tree_module.f.model("UniversalSearchStore",{term:"",recentsTerms:mobx_state_tree_module.f.optional(mobx_state_tree_module.f.array(mobx_state_tree_module.f.string),()=>localstorage.a.getGlobalItem("searchTerms")||[]),recentFilesResults:mobx_state_tree_module.f.optional(mobx_state_tree_module.f.array(mobx_state_tree_module.f.reference(RecentFilesStore_RecentFile)),[]),abandoned:!1,totalSearchResults:0,requestGUID:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),learnResults:mobx_state_tree_module.f.optional(mobx_state_tree_module.f.array(mobx_state_tree_module.f.frozen),[]),learnResultsTotal:0,learnApplicableProducts:mobx_state_tree_module.f.optional(mobx_state_tree_module.f.array(mobx_state_tree_module.f.frozen),[]),stockResults:mobx_state_tree_module.f.optional(mobx_state_tree_module.f.array(mobx_state_tree_module.f.frozen),[]),stockResultsTotal:0,stockInitialCount:0,ccPhotosResults:mobx_state_tree_module.f.optional(mobx_state_tree_module.f.array(mobx_state_tree_module.f.frozen),[]),ccPhotosResultsTotal:0,ccPhotosInitialCount:0,ccFilesResults:mobx_state_tree_module.f.optional(mobx_state_tree_module.f.array(CCFilesStore_CCFile),[]),ccFilesResultsTotal:0,ccCloudResults:mobx_state_tree_module.f.optional(mobx_state_tree_module.f.array(mobx_state_tree_module.f.frozen),[]),ccCloudResultsTotal:0,messageTitle:"",message:"",messageState:""}).views(self=>({get recentFilesTotal(){return self.recentFilesResults.length},get maxLearnResultsToShow(){return UniversalSearchStore_LEARN_RESULTS_SIZE}})).actions(selfie=>{let self=selfie;return{panelOpened(){self.abandoned=!1},userSearchInput(){self.abandoned=!0},panelClosed(){self.abandoned},setMessage(obj){self.message=obj.message,self.messageState=obj.state,self.messageTitle=obj.title},clearMessage(){self.message="",self.messageTitle="",self.messageState=""},clearResults(){self.ccFilesResults.clear(),self.recentFilesResults.clear(),self.learnResults.clear(),self.stockResults.clear(),self.ccPhotosResults.clear(),self.stockResultsTotal=0,self.learnResultsTotal=0,self.ccPhotosResultsTotal=0,self.ccFilesResultsTotal=0,self.ccCloudResultsTotal=0,self.requestGUID=null},addSearchTerm(recentFilesStore,term){self.abandoned=!1,self.term=term;const idx=self.recentsTerms.indexOf(term);-1<idx&&self.recentsTerms.splice(idx,1),self.recentsTerms.unshift(term),self.recentsTerms.replace(self.recentsTerms.splice(0,5)),localstorage.a.setGlobalItem("searchTerms",self.recentsTerms);const results=new fuse_default.a(recentFilesStore.items.slice(),UniversalSearchStore_FUSE_OPTIONS).search(term.normalize());self.recentFilesResults.replace(results.map((item,index)=>{const mruItem=Object(mobx_state_tree_module.c)(item);return mruItem.updateFromSearch({contentType:"recentfiles",position:index,term:self.term,requestGUID:self.requestGUID}),mruItem})),self.totalSearchResults=results.length},setRequestGuid(guid){self.requestGUID=guid},setMetrics(metrics){self.totalSearchResults=metrics.total_hits+self.recentFilesTotal},logRecentFilesRenderedEvent(){self.recentFilesResults&&(self.recentFilesResults.forEach(item=>{item.setRequestGUID(self.requestGUID),analytics_ingest.a.logRenderedEvent("search-card",item)}),analytics_ingest.a.logRenderedEvent("search-category",{contentType:"recentfiles",count:self.recentFilesResults.length,term:self.term,requestGUID:self.requestGUID}))},setLearnResults(results){self.learnResults=results&&results.items?results.items.slice(0,UniversalSearchStore_LEARN_RESULTS_SIZE).map((item,index)=>{const updatedItem=Object.assign({},item,{position:index,contentType:"learn",term:self.term,requestGUID:self.requestGUID});return analytics_ingest.a.logRenderedEvent("search-card",updatedItem),updatedItem}):[],self.learnResultsTotal=results?results.total_items:0,analytics_ingest.a.logRenderedEvent("search-category",{contentType:"learn",count:self.learnResultsTotal,term:self.term,requestGUID:self.requestGUID});let prod=[];results&&results.items&&results.items[0]&&(prod=results.items[0].learn_applicable_products||[]),self.learnApplicableProducts.replace(prod)},setStockInitialCount(count){self.stockInitialCount=count},setStockResults(results){results&&Array.isArray(results.items)&&(results.items=results.items.filter(item=>"video"!==item.asset_type));let rendition;self.stockResults=results&&0!==results.total_items?results.items.map((image,index)=>{rendition=UniversalSearchStore_findRendition(image._links&&image._links.rendition);const updatedImage=Object.assign({},image,{thumb:{href:rendition.href,width:rendition.width,height:rendition.height,aspectRatio:rendition.width/rendition.height},position:index,contentType:"stock",term:self.term,requestGUID:self.requestGUID});return analytics_ingest.a.logRenderedEvent("search-card",updatedImage),updatedImage}):[],self.stockResultsTotal=results?results.total_items:0,analytics_ingest.a.logRenderedEvent("search-category",{contentType:"stock",count:self.stockResultsTotal,term:self.term,requestGUID:self.requestGUID})},setCcPhotosInitialCount(count){self.ccPhotosInitialCount=count},setCcPhotosResults(results){if(!results)return;const newItems=results.items||[];0===self.ccPhotosResults.length&&(self.ccPhotosResultsTotal=results.total_items,analytics_ingest.a.logRenderedEvent("search-category",{contentType:"ccphotos",count:self.ccPhotosResultsTotal,term:self.term,requestGUID:self.requestGUID}));let rendition;self.ccPhotosResults.replace(self.ccPhotosResults.concat(newItems.map((image,index)=>{rendition=UniversalSearchStore_findRendition(image._links&&image._links.rendition);const updatedImage=Object.assign({},image,{thumb:{href:rendition.href,rendition:rendition.href,width:rendition.width,height:rendition.height,id:Math.random(),aspectRatio:rendition.width/rendition.height,text:""},position:index,term:self.term,requestGUID:self.requestGUID,contentType:"ccphotos",get href(){return image._links&&image._links.source?image._links.source.href:this.largestRendition},isFullRendition:!!(image._links&&image._links.source)&&image._links.source.href.endsWith("/master"),largestRendition:UniversalSearchStore_findRendition(image._links&&image._links.rendition,Number.POSITIVE_INFINITY).href});return analytics_ingest.a.logRenderedEvent("search-card",updatedImage),updatedImage})))},setCcFilesResults(results){self.ccFilesResults.replace([]);const ccFiles=results&&0!==results.total_items?results.items:[];ccFiles.forEach(item=>{const rendition=item._links.rendition&&item._links.rendition[0].href.replace("{size}",constants.a.THUMBNAIL_SIZE).replace("{format}",constants.a.THUMBNAIL_FORMAT),assetUrl=item._links.original.href.replace(/\/content/,"");Federer.a.getCCFileMetadata(assetUrl.concat("/:metadata")).then(metadata=>{const name=metadata.name,path=metadata.path,extension=name.split(".").pop(),kind=constants.a.FILETYPE_KIND[extension];self.addCcFile(Object.assign({},item,{action:"ccfiles",contentType:"ccfiles",name:name,identifier:path,asset_type:item.creative_cloud_asset_type,tip:jsUtil.a.prettifyFilePath(path),availableLocally:cepBridge["default"].fileExists(path),thumb:rendition?Federer.a.getRenditionImageBlobUrl(rendition):Federer.a.getDefaultRenditionUrl(),extension:extension,kind:kind,term:self.term,requestGUID:self.requestGUID,href:assetUrl}))}).catch(error=>{log.a.logJSON("uss.ccfiles.promise error: ",error)})}),self.ccFilesResultsTotal=results?results.total_items:0,analytics_ingest.a.logRenderedEvent("search-category",{contentType:"ccfiles",count:self.ccFilesResultsTotal,term:self.term,requestGUID:self.requestGUID})},addCcFile(ccFile){ccFile&&(self.ccFilesResults.push(ccFile),ccFile.position=self.ccFilesResults.length-1,analytics_ingest.a.logRenderedEvent("search-card",ccFile))},getMoreCcPhotos(){if(self.ccPhotosResults.length<self.ccPhotosResultsTotal){const promise=Federer.a.loadCCPhotos(self.term,self.ccPhotosResults.length,100);return promise.then(resp=>{self.setCcPhotosResults(resp.result_sets[0])})}return Promise.resolve()},setCcCloudResults(results){self.ccCloudResults.replace(results?results.items:[]),self.ccCloudResultsTotal=results?results.total_items:0}}}),SophiaStore_SophiaCardData=mobx_state_tree_module.f.model("SophiaCardData",{cardType:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),cardID:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),backgroundImage:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),backgroundFillColor:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),startDTS:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),endDTS:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),bodyCopy:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),ctaLabel:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),actionURL:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),urlLinkType:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),defaultURL:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),urlAppendAnalyticsParams:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.boolean),urlApplyAdobeAuthentication:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.boolean),searchLabel:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),backgroundImageLocalpath:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),footnote:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),eventAction:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),eventData:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),containerAnalyticsParams:mobx_state_tree_module.f.optional(mobx_state_tree_module.f.frozen,null),fontColor:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),position:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.number),workflow:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),daysLeft:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.number),promoID:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),content:mobx_state_tree_module.f.optional(mobx_state_tree_module.f.frozen,null),tutorials:mobx_state_tree_module.f.optional(mobx_state_tree_module.f.frozen,null)}).preProcessSnapshot(snapshot=>SophiaStore_objectSpread({},snapshot,{urlAppendAnalyticsParams:"string"==typeof snapshot.urlAppendAnalyticsParams?"true"===snapshot.urlAppendAnalyticsParams:snapshot.urlAppendAnalyticsParams,urlApplyAdobeAuthentication:"string"==typeof snapshot.urlApplyAdobeAuthentication?"true"===snapshot.urlApplyAdobeAuthentication:snapshot.urlApplyAdobeAuthentication})).actions(self=>({setContainerAnalyticsParams(analytics){self.containerAnalyticsParams=analytics},setWorkflow(w){self.workflow=w},setPosition(p){self.position=p},setFontColor(f){self.fontColor=f},setBackgroundFillColor(f){self.backgroundFillColor=f},setDaysLeft(d){self.daysLeft=d}})),SophiaStore_SophiaExperimentCard=mobx_state_tree_module.f.model({firstRunLaunchCount:1,showNewDragDropUI:!1}),SophiaStore_SophiaStore=mobx_state_tree_module.f.model("SophiaStore",{cards:mobx_state_tree_module.f.optional(mobx_state_tree_module.f.array(SophiaStore_SophiaCardData),[]),cardControl:mobx_state_tree_module.f.optional(mobx_state_tree_module.f.frozen,null),analyticsParams:mobx_state_tree_module.f.optional(mobx_state_tree_module.f.frozen,null),appLaunchBucket:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),derivedAppLaunchBucket:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),derivedPersona:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),derivedSkill:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),expirationDTS:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),hvaFlow:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),persona:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),version:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.number),ccxVersion:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),bonusLaunch:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.boolean),isCached:mobx_state_tree_module.f.optional(mobx_state_tree_module.f.boolean,!1),src:mobx_state_tree_module.f.optional(mobx_state_tree_module.f.string,"")}).views(self=>({getCardOrder(surfaceID){return self.cardControl&&self.cardControl[surfaceID]?self.cardControl[surfaceID].cardOrder:[]}})).views(self=>({getContentForSurface(surfaceID){const cardOrder=self.getCardOrder(surfaceID);if(cardOrder&&cardOrder.length){const card=self.cards[cardOrder[0]];return card}},getTutorialsByType(tutorialType){const tutorials=[],cardOrder=self.getCardOrder(constants.a.SOPHIA_SURFACEID.TUTORIALS);return cardOrder&&cardOrder.length&&cardOrder.forEach(cardOrder=>{const card=self.cards[cardOrder];card&&card.tutorials&&card.tutorials.length&&card.tutorials.forEach(tutorial=>{-1!==tutorial.metadata.platforms.indexOf(tutorialType)&&tutorials.push(tutorial)})}),tutorials},getExperimentCard(){const cardOrder=self.getCardOrder("experiments");if(cardOrder&&1===cardOrder.length){const card=self.cards[cardOrder[0]];if(SophiaStore_SophiaExperimentCard.is(card))return card}return SophiaStore_SophiaExperimentCard.create()}}));var UserStore=__webpack_require__(781),Vulcan=__webpack_require__(14);__webpack_require__.d(__webpack_exports__,"a",function(){return MainStore_mainStore}),__webpack_require__.d(__webpack_exports__,"b",function(){return MainStore_storeComponent});var MainStore_LicenseType;(function(LicenseType){LicenseType[LicenseType.NONE=0]="NONE",LicenseType[LicenseType.TRIAL=1]="TRIAL",LicenseType[LicenseType.RETAIL_SERIALIZED=2]="RETAIL_SERIALIZED",LicenseType[LicenseType.SUBSCRIPTION=3]="SUBSCRIPTION",LicenseType[LicenseType.VOLUME_SERIALIZED=4]="VOLUME_SERIALIZED",LicenseType[LicenseType.UNKNOWN=5]="UNKNOWN"})(MainStore_LicenseType||(MainStore_LicenseType={}));const MainStore_RouteNameType=mobx_state_tree_module.f.enumeration(["home","learn","ccfiles","ccphotos","custom","sync","startertemplate"]),MainStore_TabItem=mobx_state_tree_module.f.model("TabItem",{type:mobx_state_tree_module.f.identifier(mobx_state_tree_module.f.string),label:mobx_state_tree_module.f.string,listViewEnabled:mobx_state_tree_module.f.boolean,thumbnailViewEnabled:mobx_state_tree_module.f.boolean,list:mobx_state_tree_module.f.array(mobx_state_tree_module.f.model("TabItemList",{identifier:mobx_state_tree_module.f.identifier(mobx_state_tree_module.f.string),thumb:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),tip:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),name:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),lastOpened:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.number),kind:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),size:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.number)}))}),MainStore_HostData=mobx_state_tree_module.f.model("HostData",{_identifier:mobx_state_tree_module.f.optional(mobx_state_tree_module.f.identifier(),"HostData"),hostID:mobx_state_tree_module.f.optional(mobx_state_tree_module.f.string,""),tabs:mobx_state_tree_module.f.optional(mobx_state_tree_module.f.frozen,{}),appVersion:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),platform:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),hasOpenDocuments:mobx_state_tree_module.f.optional(mobx_state_tree_module.f.boolean,!1),homeScreenVisible:mobx_state_tree_module.f.optional(mobx_state_tree_module.f.boolean,!0),homescreenVisibilityEventId:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.number),language:mobx_state_tree_module.f.optional(mobx_state_tree_module.f.string,"en_US"),sessionGUID:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),buttonInfo:mobx_state_tree_module.f.optional(mobx_state_tree_module.f.frozen,{}),defaultTab:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),fnftEnabled:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.boolean),userTrackingEnabled:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.boolean),usingSimData:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.boolean)}).preProcessSnapshot(snapshot=>MainStore_objectSpread({},snapshot,{buttonInfo:snapshot.buttonInfo||{}})).actions(self=>({updateVisibility(visibility,hasOpenDocuments){self.homeScreenVisible=visibility,self.hasOpenDocuments=hasOpenDocuments},setFnftEnabled(fnftEnabled){self.fnftEnabled=fnftEnabled}})),MainStore_AppPrefsStore=mobx_state_tree_module.f.model("AppPrefsStore",{currentRoute:mobx_state_tree_module.f.optional(MainStore_RouteNameType,"home"),currentItemView:mobx_state_tree_module.f.optional(mobx_state_tree_module.f.map(mobx_state_tree_module.f.string),{}),launchCount:0,displayCount:0,lastSession:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.union(mobx_state_tree_module.f.string,mobx_state_tree_module.f.boolean)),hostData:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.reference(MainStore_HostData)),sessionGUID:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string)}).volatile(()=>({firstRunLaunchCount:constants.a.DEFAULT_FIRST_RUN_LAUNCH_COUNT,showNewDragDropUI:!1,specialPromoOverlay:!1})).actions(self=>{function load(){const savedPrefs=localstorage.a.getUserItem(constants.a.LOCALSTORE_KEYS.MAIN_PREFS);savedPrefs&&Object(mobx_state_tree_module.b)(self,savedPrefs),self.displayCount++,self.launchCount++,console.log("***self.launchCount",self.launchCount)}function save(){const prefs=Object.assign({},Object(mobx_state_tree_module.d)(self));self.hostData&&(prefs.sessionGUID=self.hostData.sessionGUID),localstorage.a.setUserItem(constants.a.LOCALSTORE_KEYS.MAIN_PREFS,prefs)}function fnChangeLaunchCount(value){self.launchCount=value}return{setHostData(hostData){self.hostData=hostData},savePrefs(){save()},loadPrefs(){load()},changeLaunchCount(value){fnChangeLaunchCount(value)}}}),MainStore_SharedSettings=mobx_state_tree_module.f.model("SharedSettings",{lastModified:mobx_state_tree_module.f.optional(mobx_state_tree_module.f.string,""),toast:mobx_state_tree_module.f.optional(mobx_state_tree_module.f.map(mobx_state_tree_module.f.frozen),{})}),MainStore_MainStore=mobx_state_tree_module.f.model("MainStore",{online:navigator.onLine,radarSessionGUID:jsUtil.a.generateGUID(),radarVersion:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),avatar:mobx_state_tree_module.f.maybe(mobx_state_tree_module.f.string),prefs:mobx_state_tree_module.f.optional(MainStore_AppPrefsStore,{}),hostData:mobx_state_tree_module.f.optional(MainStore_HostData,{}),searchStore:mobx_state_tree_module.f.optional(UniversalSearchStore_UniversalSearchStore,{}),recentFilesStore:mobx_state_tree_module.f.optional(RecentFilesStore_RecentFilesStore,{}),ccFilesStore:mobx_state_tree_module.f.optional(CCFilesStore_CCFilesStore,{}),sophiaStore:mobx_state_tree_module.f.optional(SophiaStore_SophiaStore,{}),sharedSettings:mobx_state_tree_module.f.optional(MainStore_SharedSettings,{}),user:mobx_state_tree_module.f.optional(UserStore.b,{}),ccxAssetPath:"",isDebugMode:!1,ccFilesReady:!1,sophiaReady:!1,ready:!1,messages:mobx_state_tree_module.f.optional(mobx_state_tree_module.f.frozen,null),colorTheme:"dark",isLoading:!1,lastKnownSophiaData:mobx_state_tree_module.f.optional(mobx_state_tree_module.f.string,"")}).volatile(()=>({layoutDebugPanelVisible:!1,layoutDebugOverride:null,didViewWelcomeMessagePerSession:!1,shouldUseDefaultLayoutInFallbackMode:!1,errorMessageForDefaultLayout:"",proxyUser:"",proxyPassword:""})).views(self=>({get currentItemView(){switch(self.prefs.currentRoute){case"ccfiles":return self.ccFilesStore.prefs.currentItemView;case"home":return self.recentFilesStore.prefs.currentItemView;default:return self.prefs.currentItemView.get(self.prefs.currentRoute)||constants.a.DEFAULT_ITEM_VIEW;}},getFullAssetPath(asset,localPathName="path",property="url"){if(asset[localPathName]&&""!==self.ccxAssetPath)return`${self.ccxAssetPath}/${asset[localPathName]}`;else{const url=asset[property];return url.startsWith("//")?`https:${url}`:url}}})).actions(self=>({updateProxySettings(username,password){self.proxyUser=username,self.proxyPassword=password},setHostData(data){Object(mobx_state_tree_module.b)(self.hostData,data),self.prefs.setHostData(self.hostData),self.radarVersion=cepBridge["default"].getExtensionVersion(!0).version},setSessionGuid(guid){self.prefs.sessionGUID=self.hostData.sessionGUID=guid.toUpperCase(),self.prefs.savePrefs()},setMessages(messages){self.messages=messages,self.ready=!0},setSharedSetting(type,key,value){self.sharedSettings[type].set(key,value);const SharedSettingMessage=new Vulcan.b(constants.a.IPCEVENT.VULCAN_START_SETTINGS_REQUEST,void 0,void 0);SharedSettingMessage.setPayload(JSON.stringify({settings:{[`${type}`]:{[`${key}`]:value}},productCode:self.hostData.hostID,userId:self.user.UserProfile.userId})),Vulcan.a.dispatchMessage(SharedSettingMessage)},patchSharedSettings(map={lastModified:""}){for(let type in map.lastModified&&0<map.lastModified.length&&(self.sharedSettings.lastModified=map.lastModified),delete map.lastModified,map)for(let key in self.sharedSettings[type]||(self.sharedSettings[type]=new Map),map[type])self.sharedSettings[type].set(key,map[type][key])},setUserData(data){Object(mobx_state_tree_module.b)(self.user,data)},setSophiaData(data){if(data){const lastKnownSophiaData=Object.assign({},data);delete lastKnownSophiaData.isCached,delete lastKnownSophiaData.settings,self.lastKnownSophiaData=JSON.stringify(lastKnownSophiaData),Object(mobx_state_tree_module.b)(self.sophiaStore,data),self.sophiaReady=!0,self.prefs.savePrefs()}},setAvatar(avatar){avatar&&(self.avatar=avatar)},addCcFiles(files){self.ccFilesStore.addCcFiles(files),self.ccFilesReady=!0},setCcFilesReady(isReady){self.ccFilesReady=isReady},setOnline(isOnline){self.online=isOnline},navigate(page){"ccfiles"===page&&(page="home"),self.layoutDebugOverride&&(self.layoutDebugOverride=void 0),self.prefs.currentRoute=page,self.prefs.savePrefs()},enableLayoutDebugPanel(shouldEnable){self.layoutDebugPanelVisible=shouldEnable},setDebugMode(enable){self.isDebugMode=enable},setLayoutDebugOverride(layout){self.layoutDebugOverride=layout},setMessageSeenFlag(seen){self.didViewWelcomeMessagePerSession=seen},setShouldUseDefaultLayoutInFallbackMode(shouldUse,errorMessage=""){shouldUse&&"learn"===self.prefs.currentRoute&&(self.prefs.currentRoute="home"),self.shouldUseDefaultLayoutInFallbackMode=shouldUse,self.errorMessageForDefaultLayout=errorMessage},setPotentialErrorMessageForDefaultLayout(error){self.errorMessageForDefaultLayout=self.errorMessageForDefaultLayout||error},setColorTheme(theme){self.colorTheme=theme},setSpecialPromoOverlay(shouldShow){self.prefs.specialPromoOverlay=shouldShow},setCCXAssetPath(assetPath){self.ccxAssetPath=assetPath},setLoading(isLoading){self.isLoading=isLoading}})),MainStore_mainStore=MainStore_MainStore.create()},404:function(module,__webpack_exports__,__webpack_require__){"use strict";var iaw_imsBridge__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(32),app_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(360),start_host__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(354),iaw_platform__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(74),iaw_netUtil__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(104),iaw_log__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1);const CCXSTART_X_PRODUCT_LOCATION="CCXInAppWelcome",HOST_MAPPINGS={default:{scope:["stock","learn","creative_cloud"],learn_creator_type:["adobe_support"],limit:30},PHXS:{scope:["stock","learn","lightroom","creative_cloud"],asset_type:["image","document","collection","dcx_composite","dcx_element"],learn_applicable_products:["Photoshop"]},ILST:{stock_image_type:["vector_ai_or_eps"],asset_type:["image","document","collection","dcx_composite","dcx_element"],learn_applicable_products:["Illustrator"]},AEFT:{scope:["learn","creative_cloud"],learn_applicable_products:["After Effects"]},PPRO:{scope:["learn","creative_cloud"],learn_applicable_products:["Adobe Premiere Pro"]},IDSN:{asset_type:["image","document","collection","dcx_composite","dcx_element"],learn_applicable_products:["InDesign"]},MUSE:{asset_type:["image","document","collection","dcx_composite","dcx_element"],learn_applicable_products:["Muse"]},DRWV:{asset_type:["image","document","collection","dcx_composite","dcx_element"],learn_applicable_products:["Dreamweaver"]},BROWSER:{asset_type:["image","document","collection","dcx_composite","dcx_element"],scope:["stock","learn","lightroom","creative_cloud"]}},Federer={getBody:q=>Object.assign({},{q:q,file_name_extension:app_constants__WEBPACK_IMPORTED_MODULE_1__.a.SUPPORTED_FILETYPE[start_host__WEBPACK_IMPORTED_MODULE_2__["default"].data.hostID],locale:start_host__WEBPACK_IMPORTED_MODULE_2__["default"].data.language},HOST_MAPPINGS.default,HOST_MAPPINGS[start_host__WEBPACK_IMPORTED_MODULE_2__["default"].data.hostID]),get url(){return iaw_imsBridge__WEBPACK_IMPORTED_MODULE_0__.a.stage?"https://adobesearch-stage.adobe.io/universal-search/v2/search":"https://adobesearch.adobe.io/universal-search/v2/search"},query:q=>{const requestOptions={url:Federer.url,method:"POST",json:!0,body:Federer.getBody(q),retries:3,headers:{"Content-Type":"application/vnd.adobe.search-request+json","x-api-key":"AdobeSearchService1","x-product":start_host__WEBPACK_IMPORTED_MODULE_2__["default"].data.hostID+"/"+start_host__WEBPACK_IMPORTED_MODULE_2__["default"].data.appVersion,"x-product-location":CCXSTART_X_PRODUCT_LOCATION}};return iaw_netUtil__WEBPACK_IMPORTED_MODULE_4__.a.requestWithAccessToken(requestOptions,!0).then(resp=>(resp.body.requestGUID=resp.headers["x-request-id"],Promise.resolve(resp.body)))},getCCFiles:()=>{const requestOptions={url:Federer.url,method:"POST",json:!0,body:{limit:50,file_name_extension:app_constants__WEBPACK_IMPORTED_MODULE_1__.a.SUPPORTED_FILETYPE[start_host__WEBPACK_IMPORTED_MODULE_2__["default"].data.hostID],scope:["creative_cloud"]},retries:3,headers:{"Content-Type":"application/vnd.adobe.search-request+json","x-api-key":"AdobeSearchService1","x-product":start_host__WEBPACK_IMPORTED_MODULE_2__["default"].data.hostID+"/"+start_host__WEBPACK_IMPORTED_MODULE_2__["default"].data.appVersion,"x-product-location":CCXSTART_X_PRODUCT_LOCATION}};return iaw_netUtil__WEBPACK_IMPORTED_MODULE_4__.a.requestWithAccessToken(requestOptions,!0).then(resp=>resp.body)},getDefaultRenditionUrl:()=>"PHXS"===start_host__WEBPACK_IMPORTED_MODULE_2__["default"].data.hostID||"ILST"===start_host__WEBPACK_IMPORTED_MODULE_2__["default"].data.hostID||"IDSN"===start_host__WEBPACK_IMPORTED_MODULE_2__["default"].data.hostID?app_constants__WEBPACK_IMPORTED_MODULE_1__.a.DEFAULT_THUMBNAIL_PS_AI_ID:app_constants__WEBPACK_IMPORTED_MODULE_1__.a.DEFAULT_THUMBNAIL_OTHER,getRenditionImageBlobUrl:renditionUrl=>Federer.getImageBlobURL(renditionUrl).catch(()=>(iaw_log__WEBPACK_IMPORTED_MODULE_5__.a.logJSON("getRenditionImageBlobUrl: Failed to get a thumbnail image for ",renditionUrl),Federer.getDefaultRenditionUrl())),loadCCPhotos:(q="",start=0,limit=50)=>{const requestOptions={url:Federer.url,method:"POST",json:!0,body:{q:q,scope:["lightroom"],start_index:start,limit:limit},headers:{"Content-Type":"application/vnd.adobe.search-request+json","x-api-key":"AdobeSearchService1","x-product":start_host__WEBPACK_IMPORTED_MODULE_2__["default"].data.hostID+"/"+start_host__WEBPACK_IMPORTED_MODULE_2__["default"].data.appVersion,"x-product-location":CCXSTART_X_PRODUCT_LOCATION}};return iaw_netUtil__WEBPACK_IMPORTED_MODULE_4__.a.requestWithAccessToken(requestOptions).then(resp=>Promise.resolve(resp.body))},getImageBlobURL:url=>Federer.getImageBlob(url).then(resp=>Promise.resolve(URL.createObjectURL(resp))),getImageBlob:url=>{return iaw_netUtil__WEBPACK_IMPORTED_MODULE_4__.a.requestWithAccessToken({method:"GET",url:url,responseType:"arraybuffer",withCredentials:!1,crossDomain:!0,headers:{"x-api-key":"PhotoshopInAppSearch"}}).then(resp=>{const blob=new Blob([resp.body],{type:resp.headers["content-type"]});return Promise.resolve(blob)})},getCCFileMetadata:url=>{return iaw_netUtil__WEBPACK_IMPORTED_MODULE_4__.a.requestWithAccessToken({method:"GET",url:url,headers:{"x-api-key":"AdobeSearchService1","x-product-location":CCXSTART_X_PRODUCT_LOCATION}}).then(resp=>{const metadata=JSON.parse(resp.body);let path=iaw_platform__WEBPACK_IMPORTED_MODULE_3__["default"].separatorsToSystem(metadata.path,start_host__WEBPACK_IMPORTED_MODULE_2__["default"].data.hostID);return path=path.replace("files",start_host__WEBPACK_IMPORTED_MODULE_2__["default"].ccfiles.rootFolder),metadata.path=path,Promise.resolve(metadata)})}},MockFederer={query:()=>new Promise(resolve=>{mockTestData.mockFederer.query?resolve(mockTestData.mockFederer.query):resolve({})}),getRenditionImageBlobUrl:()=>new Promise(resolve=>{mockTestData.mockFederer.getRenditionImageBlobUrl?resolve(mockTestData.mockFederer.getRenditionImageBlobUrl):resolve("")}),loadCCPhotos:(q="",start=0,limit=50)=>new Promise(resolve=>{resolve({})}),getImageBlobURL:()=>new Promise(resolve=>{mockTestData.mockFederer.getImageBlobURL?resolve(mockTestData.mockFederer.getImageBlobURL):resolve("")}),getImageBlob:()=>{},getCCFileMetadata:()=>new Promise(resolve=>{mockTestData.mockFederer.getCCFileMetadata?resolve(mockTestData.mockFederer.getCCFileMetadata):resolve([])})};__webpack_exports__.a=class{static getInstance(){return this._instance||(window.localStorage.getItem("mockTestDataPath")?(iaw_log__WEBPACK_IMPORTED_MODULE_5__.a.toConsole("Mocking Federer"),this._instance=MockFederer):this._instance=Federer),this._instance}}.getInstance()},467:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";function safeAdd(x,y){var lsw=(65535&x)+(65535&y);return(x>>16)+(y>>16)+(lsw>>16)<<16|65535&lsw}function bitRotateLeft(num,cnt){return num<<cnt|num>>>32-cnt}function md5cmn(q,a,b,x,s,t){return safeAdd(bitRotateLeft(safeAdd(safeAdd(a,q),safeAdd(x,t)),s),b)}function md5ff(a,b,c,d,x,s,t){return md5cmn(b&c|~b&d,a,b,x,s,t)}function md5gg(a,b,c,d,x,s,t){return md5cmn(b&d|c&~d,a,b,x,s,t)}function md5hh(a,b,c,d,x,s,t){return md5cmn(b^c^d,a,b,x,s,t)}function md5ii(a,b,c,d,x,s,t){return md5cmn(c^(b|~d),a,b,x,s,t)}function binlMD5(x,len){x[len>>5]|=128<<len%32,x[(len+64>>>9<<4)+14]=len;var i,olda,oldb,oldc,oldd,a=1732584193,b=-271733879,c=-1732584194,d=271733878;for(i=0;i<x.length;i+=16)olda=a,oldb=b,oldc=c,oldd=d,a=md5ff(a,b,c,d,x[i],7,-680876936),d=md5ff(d,a,b,c,x[i+1],12,-389564586),c=md5ff(c,d,a,b,x[i+2],17,606105819),b=md5ff(b,c,d,a,x[i+3],22,-1044525330),a=md5ff(a,b,c,d,x[i+4],7,-176418897),d=md5ff(d,a,b,c,x[i+5],12,1200080426),c=md5ff(c,d,a,b,x[i+6],17,-1473231341),b=md5ff(b,c,d,a,x[i+7],22,-45705983),a=md5ff(a,b,c,d,x[i+8],7,1770035416),d=md5ff(d,a,b,c,x[i+9],12,-1958414417),c=md5ff(c,d,a,b,x[i+10],17,-42063),b=md5ff(b,c,d,a,x[i+11],22,-1990404162),a=md5ff(a,b,c,d,x[i+12],7,1804603682),d=md5ff(d,a,b,c,x[i+13],12,-40341101),c=md5ff(c,d,a,b,x[i+14],17,-1502002290),b=md5ff(b,c,d,a,x[i+15],22,1236535329),a=md5gg(a,b,c,d,x[i+1],5,-165796510),d=md5gg(d,a,b,c,x[i+6],9,-1069501632),c=md5gg(c,d,a,b,x[i+11],14,643717713),b=md5gg(b,c,d,a,x[i],20,-373897302),a=md5gg(a,b,c,d,x[i+5],5,-701558691),d=md5gg(d,a,b,c,x[i+10],9,38016083),c=md5gg(c,d,a,b,x[i+15],14,-660478335),b=md5gg(b,c,d,a,x[i+4],20,-405537848),a=md5gg(a,b,c,d,x[i+9],5,568446438),d=md5gg(d,a,b,c,x[i+14],9,-1019803690),c=md5gg(c,d,a,b,x[i+3],14,-187363961),b=md5gg(b,c,d,a,x[i+8],20,1163531501),a=md5gg(a,b,c,d,x[i+13],5,-1444681467),d=md5gg(d,a,b,c,x[i+2],9,-51403784),c=md5gg(c,d,a,b,x[i+7],14,1735328473),b=md5gg(b,c,d,a,x[i+12],20,-1926607734),a=md5hh(a,b,c,d,x[i+5],4,-378558),d=md5hh(d,a,b,c,x[i+8],11,-2022574463),c=md5hh(c,d,a,b,x[i+11],16,1839030562),b=md5hh(b,c,d,a,x[i+14],23,-35309556),a=md5hh(a,b,c,d,x[i+1],4,-1530992060),d=md5hh(d,a,b,c,x[i+4],11,1272893353),c=md5hh(c,d,a,b,x[i+7],16,-155497632),b=md5hh(b,c,d,a,x[i+10],23,-1094730640),a=md5hh(a,b,c,d,x[i+13],4,681279174),d=md5hh(d,a,b,c,x[i],11,-358537222),c=md5hh(c,d,a,b,x[i+3],16,-722521979),b=md5hh(b,c,d,a,x[i+6],23,76029189),a=md5hh(a,b,c,d,x[i+9],4,-640364487),d=md5hh(d,a,b,c,x[i+12],11,-421815835),c=md5hh(c,d,a,b,x[i+15],16,530742520),b=md5hh(b,c,d,a,x[i+2],23,-995338651),a=md5ii(a,b,c,d,x[i],6,-198630844),d=md5ii(d,a,b,c,x[i+7],10,1126891415),c=md5ii(c,d,a,b,x[i+14],15,-1416354905),b=md5ii(b,c,d,a,x[i+5],21,-57434055),a=md5ii(a,b,c,d,x[i+12],6,1700485571),d=md5ii(d,a,b,c,x[i+3],10,-1894986606),c=md5ii(c,d,a,b,x[i+10],15,-1051523),b=md5ii(b,c,d,a,x[i+1],21,-2054922799),a=md5ii(a,b,c,d,x[i+8],6,1873313359),d=md5ii(d,a,b,c,x[i+15],10,-30611744),c=md5ii(c,d,a,b,x[i+6],15,-1560198380),b=md5ii(b,c,d,a,x[i+13],21,1309151649),a=md5ii(a,b,c,d,x[i+4],6,-145523070),d=md5ii(d,a,b,c,x[i+11],10,-1120210379),c=md5ii(c,d,a,b,x[i+2],15,718787259),b=md5ii(b,c,d,a,x[i+9],21,-343485551),a=safeAdd(a,olda),b=safeAdd(b,oldb),c=safeAdd(c,oldc),d=safeAdd(d,oldd);return[a,b,c,d]}function binl2rstr(input){var i,output="",length32=32*input.length;for(i=0;i<length32;i+=8)output+=String.fromCharCode(255&input[i>>5]>>>i%32);return output}function rstr2binl(input){var i,output=[];for(output[(input.length>>2)-1]=void 0,i=0;i<output.length;i+=1)output[i]=0;var length8=8*input.length;for(i=0;i<length8;i+=8)output[i>>5]|=(255&input.charCodeAt(i/8))<<i%32;return output}function rstrMD5(s){return binl2rstr(binlMD5(rstr2binl(s),8*s.length))}function rstrHMACMD5(key,data){var i,hash,bkey=rstr2binl(key),ipad=[],opad=[];for(ipad[15]=opad[15]=void 0,16<bkey.length&&(bkey=binlMD5(bkey,8*key.length)),i=0;16>i;i+=1)ipad[i]=909522486^bkey[i],opad[i]=1549556828^bkey[i];return hash=binlMD5(ipad.concat(rstr2binl(data)),512+8*data.length),binl2rstr(binlMD5(opad.concat(hash),640))}function rstr2hex(input){var x,i,hexTab="0123456789abcdef",output="";for(i=0;i<input.length;i+=1)x=input.charCodeAt(i),output+=hexTab.charAt(15&x>>>4)+hexTab.charAt(15&x);return output}function str2rstrUTF8(input){return unescape(encodeURIComponent(input))}function rawMD5(s){return rstrMD5(str2rstrUTF8(s))}function hexMD5(s){return rstr2hex(rawMD5(s))}function rawHMACMD5(k,d){return rstrHMACMD5(str2rstrUTF8(k),str2rstrUTF8(d))}function hexHMACMD5(k,d){return rstr2hex(rawHMACMD5(k,d))}function md5(string,key,raw){return key?raw?rawHMACMD5(key,string):hexHMACMD5(key,string):raw?rawMD5(string):hexMD5(string)}__WEBPACK_AMD_DEFINE_RESULT__=function(){return md5}.call(exports,__webpack_require__,exports,module),!(__WEBPACK_AMD_DEFINE_RESULT__!==void 0&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))})(this)},781:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return LicenseType}),__webpack_require__.d(__webpack_exports__,"b",function(){return User});var LicenseType,mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(389);(function(LicenseType){LicenseType[LicenseType.NONE=0]="NONE",LicenseType[LicenseType.TRIAL=1]="TRIAL",LicenseType[LicenseType.RETAIL_SERIALIZED=2]="RETAIL_SERIALIZED",LicenseType[LicenseType.SUBSCRIPTION=3]="SUBSCRIPTION",LicenseType[LicenseType.VOLUME_SERIALIZED=4]="VOLUME_SERIALIZED",LicenseType[LicenseType.UNKNOWN=5]="UNKNOWN"})(LicenseType||(LicenseType={}));const User=mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.f.model("User",{RelationshipProfile:mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.f.optional(mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.f.array(mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.f.model("RelationshipProfile",{appEntitlementStatus:mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.f.optional(mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.f.enumeration("Entitlement",["TRIAL","SUBSCRIPTION","PERPETUAL","EXPIRED","DENIED"]),"DENIED"),activationType:mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.f.optional(mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.f.enumeration("Activation",["NAMED_USER","FRL_ONLINE","FRL_ISOLATED","FRL_LAN","LAB_NAMED_USER","FRL_CONNECTED"]),"NAMED_USER"),licenseExpiryTimestamp:mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.f.optional(mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.f.number,-1),billingStatus:mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.f.optional(mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.f.enumeration("BillingStatus",["NORMAL","BILL_FAILURE","AUTH_FAILURE","CC_EXPIRED","PAYMENT_INSTRUMENT_MISSING"]),"NORMAL"),usedForLegacyProfile:mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.f.optional(mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.f.boolean,!1)})),[]),UserProfile:mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.f.optional(mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.f.model("UserProfile",{firstName:mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.f.optional(mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.f.string,""),lastName:mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.f.optional(mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.f.string,""),accountType:mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.f.optional(mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.f.string,""),countryCode:mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.f.optional(mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.f.string,""),userId:mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.f.optional(mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.f.string,""),displayName:mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.f.optional(mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.f.string,"")}),{}),LegacyProfile:mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.f.optional(mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.f.model("LegacyProfile",{licenseType:mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.f.optional(mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.f.number,LicenseType.UNKNOWN)}),{}),isNGL:mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.f.optional(mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.f.boolean,!0)}).volatile(()=>({originalUserShown:!1})).views(self=>({get isUserAvailable(){return 0<self.UserProfile.userId.length},get isEnterprise(){return"type1"!==self.UserProfile.accountType},get isFRL(){const profile=self.RelationshipProfile.find(x=>x.usedForLegacyProfile);return!!(profile&&"NAMED_USER"!==profile.activationType&&"LAB_NAMED_USER"!==profile.activationType)},get subscriptionStatus(){return self.LegacyProfile.licenseType===LicenseType.TRIAL?"trial":"paid"}})).actions(self=>({markOriginalUserShown(){self.originalUserShown=!0}}))}}]);